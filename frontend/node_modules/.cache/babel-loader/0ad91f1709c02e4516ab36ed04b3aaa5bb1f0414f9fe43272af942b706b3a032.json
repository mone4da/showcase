{"ast":null,"code":"import _classCallCheck from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nvar Timer = /*#__PURE__*/function () {\n  function Timer() {\n    _classCallCheck(this, Timer);\n    _defineProperty(this, \"_previousTime\", void 0);\n    _defineProperty(this, \"_currentTime\", void 0);\n    _defineProperty(this, \"_delta\", void 0);\n    _defineProperty(this, \"_elapsed\", void 0);\n    _defineProperty(this, \"_timescale\", void 0);\n    _defineProperty(this, \"_useFixedDelta\", void 0);\n    _defineProperty(this, \"_fixedDelta\", void 0);\n    _defineProperty(this, \"_usePageVisibilityAPI\", void 0);\n    _defineProperty(this, \"_pageVisibilityHandler\", void 0);\n    this._previousTime = 0;\n    this._currentTime = 0;\n    this._delta = 0;\n    this._elapsed = 0;\n    this._timescale = 1;\n    this._useFixedDelta = false;\n    this._fixedDelta = 16.67; // ms, corresponds to approx. 60 FPS\n\n    this._usePageVisibilityAPI = typeof document !== 'undefined' && document.hidden !== undefined;\n  } // https://github.com/mrdoob/three.js/issues/20575\n  // use Page Visibility API to avoid large time delta values\n  _createClass(Timer, [{\n    key: \"connect\",\n    value: function connect() {\n      if (this._usePageVisibilityAPI) {\n        this._pageVisibilityHandler = handleVisibilityChange.bind(this);\n        document.addEventListener('visibilitychange', this._pageVisibilityHandler, false);\n      }\n      return this;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._usePageVisibilityAPI && this._pageVisibilityHandler) {\n        document.removeEventListener('visibilitychange', this._pageVisibilityHandler);\n      }\n      return this;\n    }\n  }, {\n    key: \"disableFixedDelta\",\n    value: function disableFixedDelta() {\n      this._useFixedDelta = false;\n      return this;\n    }\n  }, {\n    key: \"enableFixedDelta\",\n    value: function enableFixedDelta() {\n      this._useFixedDelta = true;\n      return this;\n    }\n  }, {\n    key: \"getDelta\",\n    value: function getDelta() {\n      return this._delta / 1000;\n    }\n  }, {\n    key: \"getElapsedTime\",\n    value: function getElapsedTime() {\n      return this._elapsed / 1000;\n    }\n  }, {\n    key: \"getFixedDelta\",\n    value: function getFixedDelta() {\n      return this._fixedDelta / 1000;\n    }\n  }, {\n    key: \"getTimescale\",\n    value: function getTimescale() {\n      return this._timescale;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._currentTime = this._now();\n      return this;\n    }\n  }, {\n    key: \"setFixedDelta\",\n    value: function setFixedDelta(fixedDelta) {\n      this._fixedDelta = fixedDelta * 1000;\n      return this;\n    }\n  }, {\n    key: \"setTimescale\",\n    value: function setTimescale(timescale) {\n      this._timescale = timescale;\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this._useFixedDelta === true) {\n        this._delta = this._fixedDelta;\n      } else {\n        this._previousTime = this._currentTime;\n        this._currentTime = this._now();\n        this._delta = this._currentTime - this._previousTime;\n      }\n      this._delta *= this._timescale;\n      this._elapsed += this._delta; // _elapsed is the accumulation of all previous deltas\n\n      return this;\n    } // For THREE.Clock backward compatibility\n  }, {\n    key: \"elapsedTime\",\n    get: function get() {\n      return this.getElapsedTime();\n    } // private\n  }, {\n    key: \"_now\",\n    value: function _now() {\n      return (typeof performance === 'undefined' ? Date : performance).now();\n    }\n  }]);\n  return Timer;\n}();\nfunction handleVisibilityChange() {\n  if (document.hidden === false) this.reset();\n}\nexport { Timer };","map":{"version":3,"names":["_defineProperty","Timer","_classCallCheck","_previousTime","_currentTime","_delta","_elapsed","_timescale","_useFixedDelta","_fixedDelta","_usePageVisibilityAPI","document","hidden","undefined","_createClass","key","value","connect","_pageVisibilityHandler","handleVisibilityChange","bind","addEventListener","dispose","removeEventListener","disableFixedDelta","enableFixedDelta","getDelta","getElapsedTime","getFixedDelta","getTimescale","reset","_now","setFixedDelta","fixedDelta","setTimescale","timescale","update","get","performance","Date","now"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/misc/Timer.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\n\nclass Timer {\n  constructor() {\n    _defineProperty(this, \"_previousTime\", void 0);\n\n    _defineProperty(this, \"_currentTime\", void 0);\n\n    _defineProperty(this, \"_delta\", void 0);\n\n    _defineProperty(this, \"_elapsed\", void 0);\n\n    _defineProperty(this, \"_timescale\", void 0);\n\n    _defineProperty(this, \"_useFixedDelta\", void 0);\n\n    _defineProperty(this, \"_fixedDelta\", void 0);\n\n    _defineProperty(this, \"_usePageVisibilityAPI\", void 0);\n\n    _defineProperty(this, \"_pageVisibilityHandler\", void 0);\n\n    this._previousTime = 0;\n    this._currentTime = 0;\n    this._delta = 0;\n    this._elapsed = 0;\n    this._timescale = 1;\n    this._useFixedDelta = false;\n    this._fixedDelta = 16.67; // ms, corresponds to approx. 60 FPS\n\n    this._usePageVisibilityAPI = typeof document !== 'undefined' && document.hidden !== undefined;\n  } // https://github.com/mrdoob/three.js/issues/20575\n  // use Page Visibility API to avoid large time delta values\n\n\n  connect() {\n    if (this._usePageVisibilityAPI) {\n      this._pageVisibilityHandler = handleVisibilityChange.bind(this);\n      document.addEventListener('visibilitychange', this._pageVisibilityHandler, false);\n    }\n\n    return this;\n  }\n\n  dispose() {\n    if (this._usePageVisibilityAPI && this._pageVisibilityHandler) {\n      document.removeEventListener('visibilitychange', this._pageVisibilityHandler);\n    }\n\n    return this;\n  }\n\n  disableFixedDelta() {\n    this._useFixedDelta = false;\n    return this;\n  }\n\n  enableFixedDelta() {\n    this._useFixedDelta = true;\n    return this;\n  }\n\n  getDelta() {\n    return this._delta / 1000;\n  }\n\n  getElapsedTime() {\n    return this._elapsed / 1000;\n  }\n\n  getFixedDelta() {\n    return this._fixedDelta / 1000;\n  }\n\n  getTimescale() {\n    return this._timescale;\n  }\n\n  reset() {\n    this._currentTime = this._now();\n    return this;\n  }\n\n  setFixedDelta(fixedDelta) {\n    this._fixedDelta = fixedDelta * 1000;\n    return this;\n  }\n\n  setTimescale(timescale) {\n    this._timescale = timescale;\n    return this;\n  }\n\n  update() {\n    if (this._useFixedDelta === true) {\n      this._delta = this._fixedDelta;\n    } else {\n      this._previousTime = this._currentTime;\n      this._currentTime = this._now();\n      this._delta = this._currentTime - this._previousTime;\n    }\n\n    this._delta *= this._timescale;\n    this._elapsed += this._delta; // _elapsed is the accumulation of all previous deltas\n\n    return this;\n  } // For THREE.Clock backward compatibility\n\n\n  get elapsedTime() {\n    return this.getElapsedTime();\n  } // private\n\n\n  _now() {\n    return (typeof performance === 'undefined' ? Date : performance).now();\n  }\n\n}\n\nfunction handleVisibilityChange() {\n  if (document.hidden === false) this.reset();\n}\n\nexport { Timer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}