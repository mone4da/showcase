{"ast":null,"code":"import _classCallCheck from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, PerspectiveCamera, OrthographicCamera, MOUSE } from 'three';\nvar STATE;\n(function (STATE) {\n  STATE[STATE[\"NONE\"] = -1] = \"NONE\";\n  STATE[STATE[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE[STATE[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE[STATE[\"PAN\"] = 2] = \"PAN\";\n  STATE[STATE[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE[STATE[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n})(STATE || (STATE = {}));\nvar CameraControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(CameraControls, _EventDispatcher);\n  var _super = _createSuper(CameraControls);\n  /** Set to false to disable this control */\n\n  /** \"target\" sets the location of focus, where the object orbits around */\n\n  /** Set to true to enable trackball behavior */\n\n  /** How far you can dolly in ( PerspectiveCamera only ) */\n\n  /** How far you can dolly out ( PerspectiveCamera only ) */\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  /**\n   * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n   * Set to false to disable zooming\n   */\n\n  /** Set to false to disable rotating */\n\n  /** Set to false to disable panning */\n\n  /** if true, pan in screen-space */\n\n  /** pixels moved per arrow key push */\n\n  /**\n   * Set to true to automatically rotate around the target\n   * If auto-rotate is enabled, you must call controls.update() in your animation loop\n   * auto-rotate is not supported for trackball behavior\n   */\n  // 30 seconds per round when fps is 60\n\n  /** Set to false to disable use of the keys */\n\n  /** The four arrow keys */\n\n  /** Touch fingers */\n  // for reset\n  // current position in spherical coordinates\n  function CameraControls(object, domElement) {\n    var _this;\n    _classCallCheck(this, CameraControls);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"object\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"domElement\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"enabled\", true);\n    _defineProperty(_assertThisInitialized(_this), \"target\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"trackball\", false);\n    _defineProperty(_assertThisInitialized(_this), \"minDistance\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"maxDistance\", Infinity);\n    _defineProperty(_assertThisInitialized(_this), \"minZoom\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"maxZoom\", Infinity);\n    _defineProperty(_assertThisInitialized(_this), \"minPolarAngle\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"maxPolarAngle\", Math.PI);\n    _defineProperty(_assertThisInitialized(_this), \"minAzimuthAngle\", -Infinity);\n    _defineProperty(_assertThisInitialized(_this), \"maxAzimuthAngle\", Infinity);\n    _defineProperty(_assertThisInitialized(_this), \"enableDamping\", false);\n    _defineProperty(_assertThisInitialized(_this), \"dampingFactor\", 0.05);\n    _defineProperty(_assertThisInitialized(_this), \"enableZoom\", true);\n    _defineProperty(_assertThisInitialized(_this), \"zoomSpeed\", 1.0);\n    _defineProperty(_assertThisInitialized(_this), \"enableRotate\", true);\n    _defineProperty(_assertThisInitialized(_this), \"rotateSpeed\", 1.0);\n    _defineProperty(_assertThisInitialized(_this), \"enablePan\", true);\n    _defineProperty(_assertThisInitialized(_this), \"panSpeed\", 1.0);\n    _defineProperty(_assertThisInitialized(_this), \"screenSpacePanning\", false);\n    _defineProperty(_assertThisInitialized(_this), \"keyPanSpeed\", 7.0);\n    _defineProperty(_assertThisInitialized(_this), \"autoRotate\", false);\n    _defineProperty(_assertThisInitialized(_this), \"autoRotateSpeed\", 2.0);\n    _defineProperty(_assertThisInitialized(_this), \"enableKeys\", true);\n    _defineProperty(_assertThisInitialized(_this), \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseButtons\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n    _defineProperty(_assertThisInitialized(_this), \"target0\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"position0\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"quaternion0\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"zoom0\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"spherical\", new Spherical());\n    _defineProperty(_assertThisInitialized(_this), \"sphericalDelta\", new Spherical());\n    _defineProperty(_assertThisInitialized(_this), \"changeEvent\", {\n      type: 'change'\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startEvent\", {\n      type: 'start'\n    });\n    _defineProperty(_assertThisInitialized(_this), \"endEvent\", {\n      type: 'end'\n    });\n    _defineProperty(_assertThisInitialized(_this), \"state\", STATE.NONE);\n    _defineProperty(_assertThisInitialized(_this), \"EPS\", 0.000001);\n    _defineProperty(_assertThisInitialized(_this), \"scale\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"panOffset\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"zoomChanged\", false);\n    _defineProperty(_assertThisInitialized(_this), \"rotateStart\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"rotateEnd\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"rotateDelta\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"panStart\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"panEnd\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"panDelta\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"dollyStart\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"dollyEnd\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"dollyDelta\", new Vector2());\n    _defineProperty(_assertThisInitialized(_this), \"offset\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"lastPosition\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"lastQuaternion\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"q\", new Quaternion());\n    _defineProperty(_assertThisInitialized(_this), \"v\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"vec\", new Vector3());\n    _defineProperty(_assertThisInitialized(_this), \"quat\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"quatInverse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"getPolarAngle\", function () {\n      return _this.spherical.phi;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getAzimuthalAngle\", function () {\n      return _this.spherical.theta;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"saveState\", function () {\n      _this.target0.copy(_this.target);\n      _this.position0.copy(_this.object.position);\n      _this.quaternion0.copy(_this.object.quaternion);\n      _this.zoom0 = _this.object.zoom;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"reset\", function () {\n      _this.target.copy(_this.target0);\n      _this.object.position.copy(_this.position0);\n      _this.object.quaternion.copy(_this.quaternion0);\n      _this.object.zoom = _this.zoom0;\n      _this.object.updateProjectionMatrix();\n      _this.dispatchEvent(_this.changeEvent);\n      _this.update();\n      _this.state = STATE.NONE;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dispose\", function () {\n      _this.domElement.removeEventListener('contextmenu', _this.onContextMenu, false);\n      _this.domElement.removeEventListener('mousedown', _this.onMouseDown, false);\n      _this.domElement.removeEventListener('wheel', _this.onMouseWheel, false);\n      _this.domElement.removeEventListener('touchstart', _this.onTouchStart, false);\n      _this.domElement.removeEventListener('touchend', _this.onTouchEnd, false);\n      _this.domElement.removeEventListener('touchmove', _this.onTouchMove, false);\n      document.removeEventListener('mousemove', _this.onMouseMove, false);\n      document.removeEventListener('mouseup', _this.onMouseUp, false);\n      _this.domElement.removeEventListener('keydown', _this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function () {\n      var position = _this.object.position;\n      _this.offset.copy(position).sub(_this.target);\n      if (_this.trackball) {\n        // rotate around screen-space y-axis\n        if (_this.sphericalDelta.theta) {\n          _this.vec.set(0, 1, 0).applyQuaternion(_this.object.quaternion);\n          var factor = _this.enableDamping ? _this.dampingFactor : 1;\n          _this.q.setFromAxisAngle(_this.vec, _this.sphericalDelta.theta * factor);\n          _this.object.quaternion.premultiply(_this.q);\n          _this.offset.applyQuaternion(_this.q);\n        } // rotate around screen-space x-axis\n\n        if (_this.sphericalDelta.phi) {\n          _this.vec.set(1, 0, 0).applyQuaternion(_this.object.quaternion);\n          var _factor = _this.enableDamping ? _this.dampingFactor : 1;\n          _this.q.setFromAxisAngle(_this.vec, _this.sphericalDelta.phi * _factor);\n          _this.object.quaternion.premultiply(_this.q);\n          _this.offset.applyQuaternion(_this.q);\n        }\n        _this.offset.multiplyScalar(_this.scale);\n        _this.offset.clampLength(_this.minDistance, _this.maxDistance);\n      } else {\n        // rotate offset to \"y-axis-is-up\" space\n        _this.offset.applyQuaternion(_this.quat);\n        if (_this.autoRotate && _this.state === STATE.NONE) {\n          _this.rotateLeft(_this.getAutoRotationAngle());\n        }\n        _this.spherical.setFromVector3(_this.offset);\n        if (_this.enableDamping) {\n          _this.spherical.theta += _this.sphericalDelta.theta * _this.dampingFactor;\n          _this.spherical.phi += _this.sphericalDelta.phi * _this.dampingFactor;\n        } else {\n          _this.spherical.theta += _this.sphericalDelta.theta;\n          _this.spherical.phi += _this.sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n        _this.spherical.theta = Math.max(_this.minAzimuthAngle, Math.min(_this.maxAzimuthAngle, _this.spherical.theta)); // restrict phi to be between desired limits\n\n        _this.spherical.phi = Math.max(_this.minPolarAngle, Math.min(_this.maxPolarAngle, _this.spherical.phi));\n        _this.spherical.makeSafe();\n        _this.spherical.radius *= _this.scale; // restrict radius to be between desired limits\n\n        _this.spherical.radius = Math.max(_this.minDistance, Math.min(_this.maxDistance, _this.spherical.radius));\n        _this.offset.setFromSpherical(_this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        _this.offset.applyQuaternion(_this.quatInverse);\n      } // move target to panned location\n\n      if (_this.enableDamping === true) {\n        _this.target.addScaledVector(_this.panOffset, _this.dampingFactor);\n      } else {\n        _this.target.add(_this.panOffset);\n      }\n      position.copy(_this.target).add(_this.offset);\n      if (_this.trackball === false) {\n        _this.object.lookAt(_this.target);\n      }\n      if (_this.enableDamping === true) {\n        _this.sphericalDelta.theta *= 1 - _this.dampingFactor;\n        _this.sphericalDelta.phi *= 1 - _this.dampingFactor;\n        _this.panOffset.multiplyScalar(1 - _this.dampingFactor);\n      } else {\n        _this.sphericalDelta.set(0, 0, 0);\n        _this.panOffset.set(0, 0, 0);\n      }\n      _this.scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (_this.zoomChanged || _this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS || 8 * (1 - _this.lastQuaternion.dot(_this.object.quaternion)) > _this.EPS) {\n        _this.dispatchEvent(_this.changeEvent);\n        _this.lastPosition.copy(_this.object.position);\n        _this.lastQuaternion.copy(_this.object.quaternion);\n        _this.zoomChanged = false;\n        return true;\n      }\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getAutoRotationAngle\", function () {\n      return 2 * Math.PI / 60 / 60 * _this.autoRotateSpeed;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getZoomScale\", function () {\n      return Math.pow(0.95, _this.zoomSpeed);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"rotateLeft\", function (angle) {\n      _this.sphericalDelta.theta -= angle;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"rotateUp\", function (angle) {\n      _this.sphericalDelta.phi -= angle;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"panLeft\", function (distance, objectMatrix) {\n      _this.v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      _this.v.multiplyScalar(-distance);\n      _this.panOffset.add(_this.v);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"panUp\", function (distance, objectMatrix) {\n      if (_this.screenSpacePanning === true) {\n        _this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        _this.v.setFromMatrixColumn(objectMatrix, 0);\n        _this.v.crossVectors(_this.object.up, _this.v);\n      }\n      _this.v.multiplyScalar(distance);\n      _this.panOffset.add(_this.v);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pan\", function (deltaX, deltaY) {\n      var element = _this.domElement;\n      if (_this.object instanceof PerspectiveCamera) {\n        // perspective\n        var position = _this.object.position;\n        _this.offset.copy(position).sub(_this.target);\n        var targetDistance = _this.offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(_this.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        _this.panLeft(2 * deltaX * targetDistance / element.clientHeight, _this.object.matrix);\n        _this.panUp(2 * deltaY * targetDistance / element.clientHeight, _this.object.matrix);\n      } else if (_this.object.isOrthographicCamera) {\n        // orthographic\n        _this.panLeft(deltaX * (_this.object.right - _this.object.left) / _this.object.zoom / element.clientWidth, _this.object.matrix);\n        _this.panUp(deltaY * (_this.object.top - _this.object.bottom) / _this.object.zoom / element.clientHeight, _this.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - pan disabled.');\n        _this.enablePan = false;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dollyIn\", function (dollyScale) {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (_this.object instanceof PerspectiveCamera) {\n        _this.scale /= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (_this.object instanceof OrthographicCamera) {\n        _this.object.zoom = Math.max(_this.minZoom, Math.min(_this.maxZoom, _this.object.zoom * dollyScale));\n        _this.object.updateProjectionMatrix();\n        _this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        _this.enableZoom = false;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dollyOut\", function (dollyScale) {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (_this.object instanceof PerspectiveCamera) {\n        _this.scale *= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (_this.object instanceof OrthographicCamera) {\n        _this.object.zoom = Math.max(_this.minZoom, Math.min(_this.maxZoom, _this.object.zoom / dollyScale));\n        _this.object.updateProjectionMatrix();\n        _this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        _this.enableZoom = false;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownRotate\", function (event) {\n      _this.rotateStart.set(event.clientX, event.clientY);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownDolly\", function (event) {\n      _this.dollyStart.set(event.clientX, event.clientY);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownPan\", function (event) {\n      _this.panStart.set(event.clientX, event.clientY);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMoveRotate\", function (event) {\n      _this.rotateEnd.set(event.clientX, event.clientY);\n      _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart).multiplyScalar(_this.rotateSpeed);\n      var element = _this.domElement;\n      _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientHeight); // yes, height\n\n      _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight);\n      _this.rotateStart.copy(_this.rotateEnd);\n      _this.update();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMoveDolly\", function (event) {\n      _this.dollyEnd.set(event.clientX, event.clientY);\n      _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n      if (_this.dollyDelta.y > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      } else if (_this.dollyDelta.y < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      }\n      _this.dollyStart.copy(_this.dollyEnd);\n      _this.update();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMovePan\", function (event) {\n      _this.panEnd.set(event.clientX, event.clientY);\n      _this.panDelta.subVectors(_this.panEnd, _this.panStart).multiplyScalar(_this.panSpeed);\n      _this.pan(_this.panDelta.x, _this.panDelta.y);\n      _this.panStart.copy(_this.panEnd);\n      _this.update();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseWheel\", function (event) {\n      if (event.deltaY < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      }\n      _this.update();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      var needsUpdate = false;\n      switch (event.code) {\n        case _this.keys.UP:\n          _this.pan(0, _this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case _this.keys.BOTTOM:\n          _this.pan(0, -_this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case _this.keys.LEFT:\n          _this.pan(_this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case _this.keys.RIGHT:\n          _this.pan(-_this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        _this.update();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartRotate\", function (event) {\n      if (event.touches.length == 1) {\n        _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        _this.rotateStart.set(x, y);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartPan\", function (event) {\n      if (event.touches.length == 1) {\n        _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        _this.panStart.set(x, y);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartDolly\", function (event) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      _this.dollyStart.set(0, distance);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartDollyPan\", function (event) {\n      if (_this.enableZoom) _this.handleTouchStartDolly(event);\n      if (_this.enablePan) _this.handleTouchStartPan(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartDollyRotate\", function (event) {\n      if (_this.enableZoom) _this.handleTouchStartDolly(event);\n      if (_this.enableRotate) _this.handleTouchStartRotate(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveRotate\", function (event) {\n      if (event.touches.length == 1) {\n        _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        _this.rotateEnd.set(x, y);\n      }\n      _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart).multiplyScalar(_this.rotateSpeed);\n      var element = _this.domElement;\n      _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientHeight); // yes, height\n\n      _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight);\n      _this.rotateStart.copy(_this.rotateEnd);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMovePan\", function (event) {\n      if (event.touches.length == 1) {\n        _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        _this.panEnd.set(x, y);\n      }\n      _this.panDelta.subVectors(_this.panEnd, _this.panStart).multiplyScalar(_this.panSpeed);\n      _this.pan(_this.panDelta.x, _this.panDelta.y);\n      _this.panStart.copy(_this.panEnd);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveDolly\", function (event) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      _this.dollyEnd.set(0, distance);\n      _this.dollyDelta.set(0, Math.pow(_this.dollyEnd.y / _this.dollyStart.y, _this.zoomSpeed));\n      _this.dollyIn(_this.dollyDelta.y);\n      _this.dollyStart.copy(_this.dollyEnd);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveDollyPan\", function (event) {\n      if (_this.enableZoom) _this.handleTouchMoveDolly(event);\n      if (_this.enablePan) _this.handleTouchMovePan(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveDollyRotate\", function (event) {\n      if (_this.enableZoom) _this.handleTouchMoveDolly(event);\n      if (_this.enableRotate) _this.handleTouchMoveRotate(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (event) {\n      if (_this.enabled === false) return; // Prevent the browser from scrolling.\n\n      event.preventDefault(); // Manually set the focus since calling preventDefault above\n      // prevents the browser from setting it automatically.\n\n      _this.domElement.focus ? _this.domElement.focus() : window.focus();\n      var mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = _this.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = _this.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = _this.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (_this.enableZoom === false) return;\n          _this.handleMouseDownDolly(event);\n          _this.state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (_this.enablePan === false) return;\n            _this.handleMouseDownPan(event);\n            _this.state = STATE.PAN;\n          } else {\n            if (_this.enableRotate === false) return;\n            _this.handleMouseDownRotate(event);\n            _this.state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (_this.enableRotate === false) return;\n            _this.handleMouseDownRotate(event);\n            _this.state = STATE.ROTATE;\n          } else {\n            if (_this.enablePan === false) return;\n            _this.handleMouseDownPan(event);\n            _this.state = STATE.PAN;\n          }\n          break;\n        default:\n          _this.state = STATE.NONE;\n      }\n      if (_this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', _this.onMouseMove, false);\n        document.addEventListener('mouseup', _this.onMouseUp, false);\n        _this.dispatchEvent(_this.startEvent);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n      switch (_this.state) {\n        case STATE.ROTATE:\n          if (_this.enableRotate === false) return;\n          _this.handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (_this.enableZoom === false) return;\n          _this.handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (_this.enablePan === false) return;\n          _this.handleMouseMovePan(event);\n          break;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function () {\n      if (_this.enabled === false) return; // this.handleMouseUp()\n\n      document.removeEventListener('mousemove', _this.onMouseMove, false);\n      document.removeEventListener('mouseup', _this.onMouseUp, false);\n      _this.dispatchEvent(_this.endEvent);\n      _this.state = STATE.NONE;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseWheel\", function (event) {\n      if (_this.enabled === false || _this.enableZoom === false || _this.state !== STATE.NONE && _this.state !== STATE.ROTATE) {\n        return;\n      }\n      event.preventDefault();\n      _this.dispatchEvent(_this.startEvent);\n      _this.handleMouseWheel(event);\n      _this.dispatchEvent(_this.endEvent);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false) return;\n      _this.handleKeyDown(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          switch (_this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (_this.enableRotate === false) return;\n              _this.handleTouchStartRotate(event);\n              _this.state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (_this.enablePan === false) return;\n              _this.handleTouchStartPan(event);\n              _this.state = STATE.TOUCH_PAN;\n              break;\n            default:\n              _this.state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (_this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (_this.enableZoom === false && _this.enablePan === false) return;\n              _this.handleTouchStartDollyPan(event);\n              _this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (_this.enableZoom === false && _this.enableRotate === false) return;\n              _this.handleTouchStartDollyRotate(event);\n              _this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              _this.state = STATE.NONE;\n          }\n          break;\n        default:\n          _this.state = STATE.NONE;\n      }\n      if (_this.state !== STATE.NONE) {\n        _this.dispatchEvent(_this.startEvent);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n      switch (_this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (_this.enableRotate === false) return;\n          _this.handleTouchMoveRotate(event);\n          _this.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (_this.enablePan === false) return;\n          _this.handleTouchMovePan(event);\n          _this.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (_this.enableZoom === false && _this.enablePan === false) return;\n          _this.handleTouchMoveDollyPan(event);\n          _this.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (_this.enableZoom === false && _this.enableRotate === false) return;\n          _this.handleTouchMoveDollyRotate(event);\n          _this.update();\n          break;\n        default:\n          _this.state = STATE.NONE;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function () {\n      if (_this.enabled === false) return; // this.handleTouchEnd()\n\n      _this.dispatchEvent(_this.endEvent);\n      _this.state = STATE.NONE;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onContextMenu\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n    });\n    if (domElement === undefined) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n    _this.object = object;\n    _this.domElement = domElement;\n    _this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.quaternion0 = _this.object.quaternion.clone();\n    _this.zoom0 = _this.object.zoom; //\n    // internals\n    //\n    // so camera.up is the orbit axis\n\n    _this.quat = new Quaternion().setFromUnitVectors(_this.object.up, new Vector3(0, 1, 0));\n    _this.quatInverse = _this.quat.clone().invert();\n    _this.lastPosition = new Vector3();\n    _this.lastQuaternion = new Quaternion();\n    _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\n    _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\n    _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\n    _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\n    _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\n    _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\n    _this.domElement.addEventListener('keydown', _this.onKeyDown, false); // make sure element can receive keys.\n\n    if (_this.domElement.tabIndex === -1) {\n      _this.domElement.tabIndex = 0;\n    } // force an update at start\n\n    _this.object.lookAt(_this.target);\n    _this.update();\n    _this.saveState();\n    return _this;\n  }\n  _createClass(CameraControls, [{\n    key: \"handleMouseUp\",\n    value: function handleMouseUp() {// no-op\n    }\n  }, {\n    key: \"handleTouchEnd\",\n    value: function handleTouchEnd() {// no-op\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n  }]);\n  return CameraControls;\n}(EventDispatcher);\n/**\n * OrbitControls maintains the \"up\" direction, camera.up (+Y by default).\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\nvar OrbitControlsExp = /*#__PURE__*/function (_CameraControls) {\n  _inherits(OrbitControlsExp, _CameraControls);\n  var _super2 = _createSuper(OrbitControlsExp);\n  function OrbitControlsExp(object, domElement) {\n    var _this2;\n    _classCallCheck(this, OrbitControlsExp);\n    _this2 = _super2.call(this, object, domElement);\n    _defineProperty(_assertThisInitialized(_this2), \"mouseButtons\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), \"touches\", void 0);\n    _this2.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    _this2.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n    return _this2;\n  }\n  return _createClass(OrbitControlsExp);\n}(CameraControls);\n/**\n * MapControls maintains the \"up\" direction, camera.up (+Y by default)\n *\n * @event Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - left mouse, or left right + ctrl/meta/shiftKey, or arrow keys / touch: one-finger move\n */\nvar MapControlsExp = /*#__PURE__*/function (_CameraControls2) {\n  _inherits(MapControlsExp, _CameraControls2);\n  var _super3 = _createSuper(MapControlsExp);\n  function MapControlsExp(object, domElement) {\n    var _this3;\n    _classCallCheck(this, MapControlsExp);\n    _this3 = _super3.call(this, object, domElement);\n    _defineProperty(_assertThisInitialized(_this3), \"mouseButtons\", void 0);\n    _defineProperty(_assertThisInitialized(_this3), \"touches\", void 0);\n    _this3.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    _this3.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n    return _this3;\n  }\n  return _createClass(MapControlsExp);\n}(CameraControls);\n/**\n * TrackballControls allows the camera to rotate over the polls and does not maintain camera.up\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\nvar TrackballControlsExp = /*#__PURE__*/function (_CameraControls3) {\n  _inherits(TrackballControlsExp, _CameraControls3);\n  var _super4 = _createSuper(TrackballControlsExp);\n  function TrackballControlsExp(object, domElement) {\n    var _this4;\n    _classCallCheck(this, TrackballControlsExp);\n    _this4 = _super4.call(this, object, domElement);\n    _defineProperty(_assertThisInitialized(_this4), \"trackball\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"screenSpacePanning\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"autoRotate\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"mouseButtons\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"touches\", void 0);\n    _this4.trackball = true;\n    _this4.screenSpacePanning = true;\n    _this4.autoRotate = false;\n    _this4.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    _this4.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n    return _this4;\n  }\n  return _createClass(TrackballControlsExp);\n}(CameraControls);\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };","map":{"version":3,"names":["_defineProperty","EventDispatcher","Vector3","TOUCH","Spherical","Vector2","Quaternion","PerspectiveCamera","OrthographicCamera","MOUSE","STATE","CameraControls","_EventDispatcher","_inherits","_super","_createSuper","object","domElement","_this","_classCallCheck","call","_assertThisInitialized","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ONE","ROTATE","TWO","DOLLY_PAN","type","NONE","spherical","phi","theta","target0","copy","target","position0","position","quaternion0","quaternion","zoom0","zoom","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","document","onMouseMove","onMouseUp","onKeyDown","offset","sub","trackball","sphericalDelta","vec","set","applyQuaternion","factor","enableDamping","dampingFactor","q","setFromAxisAngle","premultiply","multiplyScalar","scale","clampLength","minDistance","maxDistance","quat","autoRotate","rotateLeft","getAutoRotationAngle","setFromVector3","max","minAzimuthAngle","min","maxAzimuthAngle","minPolarAngle","maxPolarAngle","makeSafe","radius","setFromSpherical","quatInverse","addScaledVector","panOffset","add","lookAt","zoomChanged","lastPosition","distanceToSquared","EPS","lastQuaternion","dot","autoRotateSpeed","pow","zoomSpeed","angle","distance","objectMatrix","v","setFromMatrixColumn","screenSpacePanning","crossVectors","up","deltaX","deltaY","element","targetDistance","length","tan","fov","panLeft","clientHeight","matrix","panUp","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","enablePan","dollyScale","minZoom","maxZoom","enableZoom","event","rotateStart","clientX","clientY","dollyStart","panStart","rotateEnd","rotateDelta","subVectors","rotateSpeed","x","rotateUp","y","dollyEnd","dollyDelta","dollyIn","getZoomScale","dollyOut","panEnd","panDelta","panSpeed","pan","needsUpdate","code","keys","keyPanSpeed","preventDefault","touches","pageX","pageY","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","enableRotate","handleTouchStartRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchMoveRotate","enabled","focus","window","mouseAction","button","mouseButtons","MIDDLE","DOLLY","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","handleMouseDownPan","PAN","handleMouseDownRotate","addEventListener","startEvent","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","endEvent","handleMouseWheel","enableKeys","handleKeyDown","TOUCH_ROTATE","TOUCH_PAN","handleTouchStartDollyPan","TOUCH_DOLLY_PAN","DOLLY_ROTATE","handleTouchStartDollyRotate","TOUCH_DOLLY_ROTATE","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","undefined","Document","error","clone","setFromUnitVectors","invert","tabIndex","saveState","_createClass","key","value","handleMouseUp","handleTouchEnd","OrbitControlsExp","_CameraControls","_super2","_this2","MapControlsExp","_CameraControls2","_super3","_this3","TrackballControlsExp","_CameraControls3","_super4","_this4"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/controls/experimental/CameraControls.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, PerspectiveCamera, OrthographicCamera, MOUSE } from 'three';\n\nlet STATE;\n\n(function (STATE) {\n  STATE[STATE[\"NONE\"] = -1] = \"NONE\";\n  STATE[STATE[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE[STATE[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE[STATE[\"PAN\"] = 2] = \"PAN\";\n  STATE[STATE[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE[STATE[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n})(STATE || (STATE = {}));\n\nclass CameraControls extends EventDispatcher {\n  /** Set to false to disable this control */\n\n  /** \"target\" sets the location of focus, where the object orbits around */\n\n  /** Set to true to enable trackball behavior */\n\n  /** How far you can dolly in ( PerspectiveCamera only ) */\n\n  /** How far you can dolly out ( PerspectiveCamera only ) */\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  /**\n   * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n   * Set to false to disable zooming\n   */\n\n  /** Set to false to disable rotating */\n\n  /** Set to false to disable panning */\n\n  /** if true, pan in screen-space */\n\n  /** pixels moved per arrow key push */\n\n  /**\n   * Set to true to automatically rotate around the target\n   * If auto-rotate is enabled, you must call controls.update() in your animation loop\n   * auto-rotate is not supported for trackball behavior\n   */\n  // 30 seconds per round when fps is 60\n\n  /** Set to false to disable use of the keys */\n\n  /** The four arrow keys */\n\n  /** Touch fingers */\n  // for reset\n  // current position in spherical coordinates\n  constructor(object, domElement) {\n    super();\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"trackball\", false);\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"minZoom\", 0);\n\n    _defineProperty(this, \"maxZoom\", Infinity);\n\n    _defineProperty(this, \"minPolarAngle\", 0);\n\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(this, \"enableDamping\", false);\n\n    _defineProperty(this, \"dampingFactor\", 0.05);\n\n    _defineProperty(this, \"enableZoom\", true);\n\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n\n    _defineProperty(this, \"enableRotate\", true);\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"enablePan\", true);\n\n    _defineProperty(this, \"panSpeed\", 1.0);\n\n    _defineProperty(this, \"screenSpacePanning\", false);\n\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n\n    _defineProperty(this, \"autoRotate\", false);\n\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(this, \"enableKeys\", true);\n\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"quaternion0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"spherical\", new Spherical());\n\n    _defineProperty(this, \"sphericalDelta\", new Spherical());\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"startEvent\", {\n      type: 'start'\n    });\n\n    _defineProperty(this, \"endEvent\", {\n      type: 'end'\n    });\n\n    _defineProperty(this, \"state\", STATE.NONE);\n\n    _defineProperty(this, \"EPS\", 0.000001);\n\n    _defineProperty(this, \"scale\", 1);\n\n    _defineProperty(this, \"panOffset\", new Vector3());\n\n    _defineProperty(this, \"zoomChanged\", false);\n\n    _defineProperty(this, \"rotateStart\", new Vector2());\n\n    _defineProperty(this, \"rotateEnd\", new Vector2());\n\n    _defineProperty(this, \"rotateDelta\", new Vector2());\n\n    _defineProperty(this, \"panStart\", new Vector2());\n\n    _defineProperty(this, \"panEnd\", new Vector2());\n\n    _defineProperty(this, \"panDelta\", new Vector2());\n\n    _defineProperty(this, \"dollyStart\", new Vector2());\n\n    _defineProperty(this, \"dollyEnd\", new Vector2());\n\n    _defineProperty(this, \"dollyDelta\", new Vector2());\n\n    _defineProperty(this, \"offset\", new Vector3());\n\n    _defineProperty(this, \"lastPosition\", new Vector3());\n\n    _defineProperty(this, \"lastQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"q\", new Quaternion());\n\n    _defineProperty(this, \"v\", new Vector3());\n\n    _defineProperty(this, \"vec\", new Vector3());\n\n    _defineProperty(this, \"quat\", void 0);\n\n    _defineProperty(this, \"quatInverse\", void 0);\n\n    _defineProperty(this, \"getPolarAngle\", () => this.spherical.phi);\n\n    _defineProperty(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n\n    _defineProperty(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n\n    _defineProperty(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = STATE.NONE;\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n      this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n      this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n      this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n      this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n      this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n      document.removeEventListener('mousemove', this.onMouseMove, false);\n      document.removeEventListener('mouseup', this.onMouseUp, false);\n      this.domElement.removeEventListener('keydown', this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    });\n\n    _defineProperty(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n\n      if (this.trackball) {\n        // rotate around screen-space y-axis\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        } // rotate around screen-space x-axis\n\n\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        // rotate offset to \"y-axis-is-up\" space\n        this.offset.applyQuaternion(this.quat);\n\n        if (this.autoRotate && this.state === STATE.NONE) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n\n        this.spherical.setFromVector3(this.offset);\n\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta)); // restrict phi to be between desired limits\n\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale; // restrict radius to be between desired limits\n\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        this.offset.applyQuaternion(this.quatInverse);\n      } // move target to panned location\n\n\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n\n      position.copy(this.target).add(this.offset);\n\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n\n      this.scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n\n    _defineProperty(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n\n    _defineProperty(this, \"rotateLeft\", angle => {\n      this.sphericalDelta.theta -= angle;\n    });\n\n    _defineProperty(this, \"rotateUp\", angle => {\n      this.sphericalDelta.phi -= angle;\n    });\n\n    _defineProperty(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n\n    _defineProperty(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n\n    _defineProperty(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n\n      if (this.object instanceof PerspectiveCamera) {\n        // perspective\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        // orthographic\n        this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n        this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - pan disabled.');\n        this.enablePan = false;\n      }\n    });\n\n    _defineProperty(this, \"dollyIn\", dollyScale => {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        this.enableZoom = false;\n      }\n    });\n\n    _defineProperty(this, \"dollyOut\", dollyScale => {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        this.enableZoom = false;\n      }\n    });\n\n    _defineProperty(this, \"handleMouseDownRotate\", event => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(this, \"handleMouseDownDolly\", event => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(this, \"handleMouseDownPan\", event => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(this, \"handleMouseMoveRotate\", event => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\n\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n\n    _defineProperty(this, \"handleMouseMoveDolly\", event => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n\n    _defineProperty(this, \"handleMouseMovePan\", event => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n\n    _defineProperty(this, \"handleMouseWheel\", event => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n\n      this.update();\n    });\n\n    _defineProperty(this, \"handleKeyDown\", event => {\n      let needsUpdate = false;\n\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        this.update();\n      }\n    });\n\n    _defineProperty(this, \"handleTouchStartRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n\n    _defineProperty(this, \"handleTouchStartPan\", event => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n\n    _defineProperty(this, \"handleTouchStartDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n\n    _defineProperty(this, \"handleTouchStartDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enablePan) this.handleTouchStartPan(event);\n    });\n\n    _defineProperty(this, \"handleTouchStartDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchStartDolly(event);\n      if (this.enableRotate) this.handleTouchStartRotate(event);\n    });\n\n    _defineProperty(this, \"handleTouchMoveRotate\", event => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\n\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n\n    _defineProperty(this, \"handleTouchMovePan\", event => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n\n    _defineProperty(this, \"handleTouchMoveDolly\", event => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n\n    _defineProperty(this, \"handleTouchMoveDollyPan\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enablePan) this.handleTouchMovePan(event);\n    });\n\n    _defineProperty(this, \"handleTouchMoveDollyRotate\", event => {\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\n      if (this.enableRotate) this.handleTouchMoveRotate(event);\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      if (this.enabled === false) return; // Prevent the browser from scrolling.\n\n      event.preventDefault(); // Manually set the focus since calling preventDefault above\n      // prevents the browser from setting it automatically.\n\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseDownDolly(event);\n          this.state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          } else {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false) return;\n            this.handleMouseDownRotate(event);\n            this.state = STATE.ROTATE;\n          } else {\n            if (this.enablePan === false) return;\n            this.handleMouseDownPan(event);\n            this.state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          this.state = STATE.NONE;\n      }\n\n      if (this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', this.onMouseMove, false);\n        document.addEventListener('mouseup', this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (this.state) {\n        case STATE.ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (this.enableZoom === false) return;\n          this.handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (this.enablePan === false) return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onMouseUp\", () => {\n      if (this.enabled === false) return; // this.handleMouseUp()\n\n      document.removeEventListener('mousemove', this.onMouseMove, false);\n      document.removeEventListener('mouseup', this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n\n    _defineProperty(this, \"onMouseWheel\", event => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== STATE.NONE && this.state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"onKeyDown\", event => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false) return;\n      this.handleKeyDown(event);\n    });\n\n    _defineProperty(this, \"onTouchStart\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false) return;\n              this.handleTouchStartRotate(event);\n              this.state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (this.enablePan === false) return;\n              this.handleTouchStartPan(event);\n              this.state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              this.state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false) return;\n              this.handleTouchStartDollyPan(event);\n              this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false) return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              this.state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          this.state = STATE.NONE;\n      }\n\n      if (this.state !== STATE.NONE) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n\n    _defineProperty(this, \"onTouchMove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (this.enableRotate === false) return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (this.enablePan === false) return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (this.enableZoom === false && this.enablePan === false) return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (this.enableZoom === false && this.enableRotate === false) return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n\n        default:\n          this.state = STATE.NONE;\n      }\n    });\n\n    _defineProperty(this, \"onTouchEnd\", () => {\n      if (this.enabled === false) return; // this.handleTouchEnd()\n\n      this.dispatchEvent(this.endEvent);\n      this.state = STATE.NONE;\n    });\n\n    _defineProperty(this, \"onContextMenu\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n    });\n\n    if (domElement === undefined) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom; //\n    // internals\n    //\n    // so camera.up is the orbit axis\n\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener('contextmenu', this.onContextMenu, false);\n    this.domElement.addEventListener('mousedown', this.onMouseDown, false);\n    this.domElement.addEventListener('wheel', this.onMouseWheel, false);\n    this.domElement.addEventListener('touchstart', this.onTouchStart, false);\n    this.domElement.addEventListener('touchend', this.onTouchEnd, false);\n    this.domElement.addEventListener('touchmove', this.onTouchMove, false);\n    this.domElement.addEventListener('keydown', this.onKeyDown, false); // make sure element can receive keys.\n\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    } // force an update at start\n\n\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n\n  handleMouseUp() {// no-op\n  }\n\n  handleTouchEnd() {// no-op\n  } //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n\n}\n/**\n * OrbitControls maintains the \"up\" direction, camera.up (+Y by default).\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\n\n\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", void 0);\n\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n\n}\n/**\n * MapControls maintains the \"up\" direction, camera.up (+Y by default)\n *\n * @event Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - left mouse, or left right + ctrl/meta/shiftKey, or arrow keys / touch: one-finger move\n */\n\n\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", void 0);\n\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n\n}\n/**\n * TrackballControls allows the camera to rotate over the polls and does not maintain camera.up\n *\n * @event Orbit - left mouse / touch: one-finger move\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n */\n\n\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n\n    _defineProperty(this, \"trackball\", void 0);\n\n    _defineProperty(this, \"screenSpacePanning\", void 0);\n\n    _defineProperty(this, \"autoRotate\", void 0);\n\n    _defineProperty(this, \"mouseButtons\", void 0);\n\n    _defineProperty(this, \"touches\", void 0);\n\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n\n}\n\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}