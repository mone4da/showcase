{"ast":null,"code":"import _classCallCheck from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport NodeLoader from './NodeLoader.js';\nimport NodeMaterialLoader from './NodeMaterialLoader.js';\nimport { ObjectLoader } from 'three';\nvar NodeObjectLoader = /*#__PURE__*/function (_ObjectLoader) {\n  _inherits(NodeObjectLoader, _ObjectLoader);\n  var _super = _createSuper(NodeObjectLoader);\n  function NodeObjectLoader(manager) {\n    var _this;\n    _classCallCheck(this, NodeObjectLoader);\n    _this = _super.call(this, manager);\n    _this._nodesJSON = null;\n    return _this;\n  }\n  _createClass(NodeObjectLoader, [{\n    key: \"parse\",\n    value: function parse(json, onLoad) {\n      this._nodesJSON = json.nodes;\n      var data = _get(_getPrototypeOf(NodeObjectLoader.prototype), \"parse\", this).call(this, json, onLoad);\n      this._nodesJSON = null; // dispose\n\n      return data;\n    }\n  }, {\n    key: \"parseNodes\",\n    value: function parseNodes(json, textures) {\n      if (json !== undefined) {\n        var loader = new NodeLoader();\n        loader.setTextures(textures);\n        return loader.parseNodes(json);\n      }\n      return {};\n    }\n  }, {\n    key: \"parseMaterials\",\n    value: function parseMaterials(json, textures) {\n      var materials = {};\n      if (json !== undefined) {\n        var nodes = this.parseNodes(this._nodesJSON, textures);\n        var loader = new NodeMaterialLoader();\n        loader.setTextures(textures);\n        loader.setNodes(nodes);\n        for (var i = 0, l = json.length; i < l; i++) {\n          var data = json[i];\n          materials[data.uuid] = loader.parse(data);\n        }\n      }\n      return materials;\n    }\n  }]);\n  return NodeObjectLoader;\n}(ObjectLoader);\nexport default NodeObjectLoader;","map":{"version":3,"names":["NodeLoader","NodeMaterialLoader","ObjectLoader","NodeObjectLoader","_ObjectLoader","_inherits","_super","_createSuper","manager","_this","_classCallCheck","call","_nodesJSON","_createClass","key","value","parse","json","onLoad","nodes","data","_get","_getPrototypeOf","prototype","parseNodes","textures","undefined","loader","setTextures","parseMaterials","materials","setNodes","i","l","length","uuid"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/nodes/loaders/NodeObjectLoader.js"],"sourcesContent":["import NodeLoader from './NodeLoader.js';\nimport NodeMaterialLoader from './NodeMaterialLoader.js';\nimport { ObjectLoader } from 'three';\n\nclass NodeObjectLoader extends ObjectLoader {\n  constructor(manager) {\n    super(manager);\n    this._nodesJSON = null;\n  }\n\n  parse(json, onLoad) {\n    this._nodesJSON = json.nodes;\n    const data = super.parse(json, onLoad);\n    this._nodesJSON = null; // dispose\n\n    return data;\n  }\n\n  parseNodes(json, textures) {\n    if (json !== undefined) {\n      const loader = new NodeLoader();\n      loader.setTextures(textures);\n      return loader.parseNodes(json);\n    }\n\n    return {};\n  }\n\n  parseMaterials(json, textures) {\n    const materials = {};\n\n    if (json !== undefined) {\n      const nodes = this.parseNodes(this._nodesJSON, textures);\n      const loader = new NodeMaterialLoader();\n      loader.setTextures(textures);\n      loader.setNodes(nodes);\n\n      for (let i = 0, l = json.length; i < l; i++) {\n        const data = json[i];\n        materials[data.uuid] = loader.parse(data);\n      }\n    }\n\n    return materials;\n  }\n\n}\n\nexport default NodeObjectLoader;\n"],"mappings":";;;;;;AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,OAAOC,kBAAkB,MAAM,yBAAyB;AACxD,SAASC,YAAY,QAAQ,OAAO;AAAC,IAE/BC,gBAAgB,0BAAAC,aAAA;EAAAC,SAAA,CAAAF,gBAAA,EAAAC,aAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,gBAAA;EACpB,SAAAA,iBAAYK,OAAO,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAP,gBAAA;IACnBM,KAAA,GAAAH,MAAA,CAAAK,IAAA,OAAMH,OAAO;IACbC,KAAA,CAAKG,UAAU,GAAG,IAAI;IAAC,OAAAH,KAAA;EACzB;EAACI,YAAA,CAAAV,gBAAA;IAAAW,GAAA;IAAAC,KAAA,EAED,SAAAC,MAAMC,IAAI,EAAEC,MAAM,EAAE;MAClB,IAAI,CAACN,UAAU,GAAGK,IAAI,CAACE,KAAK;MAC5B,IAAMC,IAAI,GAAAC,IAAA,CAAAC,eAAA,CAAAnB,gBAAA,CAAAoB,SAAA,kBAAAZ,IAAA,OAAeM,IAAI,EAAEC,MAAM,CAAC;MACtC,IAAI,CAACN,UAAU,GAAG,IAAI,CAAC,CAAC;;MAExB,OAAOQ,IAAI;IACb;EAAC;IAAAN,GAAA;IAAAC,KAAA,EAED,SAAAS,WAAWP,IAAI,EAAEQ,QAAQ,EAAE;MACzB,IAAIR,IAAI,KAAKS,SAAS,EAAE;QACtB,IAAMC,MAAM,GAAG,IAAI3B,UAAU,EAAE;QAC/B2B,MAAM,CAACC,WAAW,CAACH,QAAQ,CAAC;QAC5B,OAAOE,MAAM,CAACH,UAAU,CAACP,IAAI,CAAC;MAChC;MAEA,OAAO,CAAC,CAAC;IACX;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAED,SAAAc,eAAeZ,IAAI,EAAEQ,QAAQ,EAAE;MAC7B,IAAMK,SAAS,GAAG,CAAC,CAAC;MAEpB,IAAIb,IAAI,KAAKS,SAAS,EAAE;QACtB,IAAMP,KAAK,GAAG,IAAI,CAACK,UAAU,CAAC,IAAI,CAACZ,UAAU,EAAEa,QAAQ,CAAC;QACxD,IAAME,MAAM,GAAG,IAAI1B,kBAAkB,EAAE;QACvC0B,MAAM,CAACC,WAAW,CAACH,QAAQ,CAAC;QAC5BE,MAAM,CAACI,QAAQ,CAACZ,KAAK,CAAC;QAEtB,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGhB,IAAI,CAACiB,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;UAC3C,IAAMZ,IAAI,GAAGH,IAAI,CAACe,CAAC,CAAC;UACpBF,SAAS,CAACV,IAAI,CAACe,IAAI,CAAC,GAAGR,MAAM,CAACX,KAAK,CAACI,IAAI,CAAC;QAC3C;MACF;MAEA,OAAOU,SAAS;IAClB;EAAC;EAAA,OAAA3B,gBAAA;AAAA,EAxC4BD,YAAY;AA4C3C,eAAeC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}