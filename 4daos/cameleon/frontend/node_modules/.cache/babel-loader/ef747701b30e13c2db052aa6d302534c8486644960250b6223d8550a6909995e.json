{"ast":null,"code":"import _toConsumableArray from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Component from'./component';import Menu from'./menu';import AppManager from'./appmanager';import{Copyright}from'./organisation';import style from'./style';import asset from'./asset';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var View=function View(props){var state=props.state,event=props.event,_onUpdate=props.onUpdate;var _useState=useState(state.user.apps),_useState2=_slicedToArray(_useState,2),appTypes=_useState2[0],setAppTypes=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showMenu=_useState4[0],setShowMenu=_useState4[1];var handleMenu=function handleMenu(type){setAppTypes(function(list){return list.indexOf(type)<0?[].concat(_toConsumableArray(list),[type]):list;});};var handleShowMenu=function handleShowMenu(visible){setShowMenu(function(visible){return!visible;});};var handleFocused=function handleFocused(id){setAppTypes(function(list){return[].concat(_toConsumableArray(list.filter(function(type){return type!==id;})),[id]);});};var handleClose=function handleClose(id){setAppTypes(function(list){return list.filter(function(type){return type!==id;});});};return/*#__PURE__*/_jsxs(\"div\",{style:style,onClick:function onClick(){return handleShowMenu(true);},children:[/*#__PURE__*/_jsx(Copyright,{style:style.organisation.copyright,content:state.system.copyright}),/*#__PURE__*/_jsx(AppManager,{types:appTypes,Component:Component,state:state,style:style,asset:asset,event:event,onUpdate:function onUpdate(data,id){return _onUpdate&&_onUpdate(data,id);},onFocused:handleFocused,onClose:handleClose})]});};export default View;","map":{"version":3,"names":["useState","Component","Menu","AppManager","Copyright","style","asset","jsx","_jsx","jsxs","_jsxs","View","props","state","event","onUpdate","_useState","user","apps","_useState2","_slicedToArray","appTypes","setAppTypes","_useState3","_useState4","showMenu","setShowMenu","handleMenu","type","list","indexOf","concat","_toConsumableArray","handleShowMenu","visible","handleFocused","id","filter","handleClose","onClick","children","organisation","copyright","content","system","types","data","onFocused","onClose"],"sources":["/home/samuel/dev/blackscreen/frontend/src/view/index.js"],"sourcesContent":["import {useState} from 'react'\n\nimport Component from './component'\nimport Menu from './menu'\nimport AppManager from './appmanager'\nimport {Copyright} from './organisation'\n\nimport style from './style'\nimport asset from './asset'\n\nlet View = props => {\n\tlet {state, event, onUpdate} = props\n\n\tlet [appTypes, setAppTypes] = useState(state.user.apps)\n\tlet [showMenu, setShowMenu] = useState(true)\n\n\tlet handleMenu = type => {\n\t\tsetAppTypes( list => list.indexOf(type) < 0 ? [...list,  type] : list )\n\t}\n\n\tlet handleShowMenu = visible => {\n\t\tsetShowMenu(visible => !visible)\n\t}\n\n\tlet handleFocused = id => {\n\t\tsetAppTypes(list =>  [...list.filter(type => type !== id), id] )\n\t}\n\n\n\tlet handleClose = id => {\n\t\tsetAppTypes( list => list.filter(type => type !== id) )\n\t}\n\n\n\treturn (\n\t\t<div style={style} onClick={() => handleShowMenu(true)}>\n\t\t\t<Copyright\n\t\t\t\tstyle={style.organisation.copyright}\n\t\t\t\tcontent={state.system.copyright}\n\t\t\t/>\n\n\t\t\t<AppManager\n\t\t\t\ttypes={appTypes}\n\t\t\t\tComponent={Component}\n\t\t\t\tstate={state}\n\t\t\t\tstyle={style}\n\t\t\t\tasset={asset}\n\t\t\t\tevent={event}\n\t\t\t\tonUpdate={(data,id) => onUpdate && onUpdate(data,id)}\n\t\t\t\tonFocused={handleFocused}\n\t\t\t\tonClose={handleClose}/>\n\n\t\t</div>\n\t)\n}\n\nexport default View\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}