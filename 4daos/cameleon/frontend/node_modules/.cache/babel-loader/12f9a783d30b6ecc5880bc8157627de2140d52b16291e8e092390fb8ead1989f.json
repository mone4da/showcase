{"ast":null,"code":"import _regeneratorRuntime from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _possibleConstructorReturn from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";import _inherits from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import Session from'./session';import Rest from'./rest';var Model=/*#__PURE__*/function(_Session){_inherits(Model,_Session);var _super=_createSuper(Model);function Model(initialized){var _this;_classCallCheck(this,Model);_this.state={system:{},user:{}};_this.initialize(initialized);return _possibleConstructorReturn(_this);}_createClass(Model,[{key:\"initialize\",value:function(){var _initialize=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(initialized){var config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this.rest=new Rest();_context.next=3;return this.loadConfig();case 3:config=_context.sent;this.state.ok=config.ok;if(this.state.ok){this.state.system.region=config.data.region;this.state.system.copyright=config.data.copyright;this.state.user.apps=config.data.apps;this.connect();}initialized(this);case 7:case\"end\":return _context.stop();}},_callee,this);}));function initialize(_x){return _initialize.apply(this,arguments);}return initialize;}()},{key:\"onReply\",value:function onReply(data){console.log(data);}},{key:\"loadConfig\",value:function(){var _loadConfig=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.rest.config();case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}},_callee2,this);}));function loadConfig(){return _loadConfig.apply(this,arguments);}return loadConfig;}()}]);return Model;}(Session);export default Model;","map":{"version":3,"names":["Session","Rest","Model","_Session","_inherits","_super","_createSuper","initialized","_this","_classCallCheck","state","system","user","initialize","_possibleConstructorReturn","_createClass","key","value","_initialize","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","wrap","_callee$","_context","prev","next","rest","loadConfig","sent","ok","region","data","copyright","apps","connect","stop","_x","apply","arguments","onReply","console","log","_loadConfig","_callee2","_callee2$","_context2","abrupt"],"sources":["/home/samuel/dev/blackscreen/frontend/src/model/index.js"],"sourcesContent":["import Session from './session'\nimport Rest from './rest'\n\nclass Model extends Session{\n\tconstructor( initialized ){\n\t\tthis.state = {\n\t\t\tsystem: {},\n\t\t\tuser: {}\n\t\t}\n\t\tthis.initialize( initialized )\n\t}\n\n\tasync initialize( initialized ){\n\t\tthis.rest = new Rest()\n\t\tlet config = await this.loadConfig()\n\n\t\tthis.state.ok = config.ok\n\n\t\tif (this.state.ok){\n\t\t\tthis.state.system.region = config.data.region\n\t\t\tthis.state.system.copyright = config.data.copyright\n\n\t\t\tthis.state.user.apps = config.data.apps\n\n\t\t\tthis.connect()\n\t\t}\n\n\t\tinitialized( this )\n\t}\n\n\tonReply(data) {\n\t\tconsole.log(data)\n\t}\n\n\tasync loadConfig(){\n\t\treturn await this.rest.config()\n\t}\n}\n\nexport default Model\n"],"mappings":"q3BAAA,MAAO,CAAAA,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,IAAI,KAAM,QAAQ,IAEnB,CAAAC,KAAK,uBAAAC,QAAA,EAAAC,SAAA,CAAAF,KAAA,CAAAC,QAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,KAAA,EACV,SAAAA,MAAaK,WAAW,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,KAAA,EACzBM,KAAA,CAAKE,KAAK,CAAG,CACZC,MAAM,CAAE,CAAC,CAAC,CACVC,IAAI,CAAE,CAAC,CACR,CAAC,CACDJ,KAAA,CAAKK,UAAU,CAAEN,WAAW,CAAE,QAAAO,0BAAA,CAAAN,KAAA,EAC/B,CAACO,YAAA,CAAAb,KAAA,GAAAc,GAAA,cAAAC,KAAA,gBAAAC,WAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAC,QAAkBf,WAAW,MAAAgB,MAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC5B,IAAI,CAACC,IAAI,CAAG,GAAI,CAAA5B,IAAI,EAAE,CAAAyB,QAAA,CAAAE,IAAA,SACH,KAAI,CAACE,UAAU,EAAE,QAAhCP,MAAM,CAAAG,QAAA,CAAAK,IAAA,CAEV,IAAI,CAACrB,KAAK,CAACsB,EAAE,CAAGT,MAAM,CAACS,EAAE,CAEzB,GAAI,IAAI,CAACtB,KAAK,CAACsB,EAAE,CAAC,CACjB,IAAI,CAACtB,KAAK,CAACC,MAAM,CAACsB,MAAM,CAAGV,MAAM,CAACW,IAAI,CAACD,MAAM,CAC7C,IAAI,CAACvB,KAAK,CAACC,MAAM,CAACwB,SAAS,CAAGZ,MAAM,CAACW,IAAI,CAACC,SAAS,CAEnD,IAAI,CAACzB,KAAK,CAACE,IAAI,CAACwB,IAAI,CAAGb,MAAM,CAACW,IAAI,CAACE,IAAI,CAEvC,IAAI,CAACC,OAAO,EAAE,CACf,CAEA9B,WAAW,CAAE,IAAI,CAAE,yBAAAmB,QAAA,CAAAY,IAAA,MAAAhB,OAAA,QACnB,YAAAT,WAAA0B,EAAA,SAAArB,WAAA,CAAAsB,KAAA,MAAAC,SAAA,UAAA5B,UAAA,OAAAG,GAAA,WAAAC,KAAA,CAED,SAAAyB,QAAQR,IAAI,CAAE,CACbS,OAAO,CAACC,GAAG,CAACV,IAAI,CAAC,CAClB,CAAC,GAAAlB,GAAA,cAAAC,KAAA,gBAAA4B,WAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAyB,SAAA,SAAA1B,mBAAA,GAAAI,IAAA,UAAAuB,UAAAC,SAAA,iBAAAA,SAAA,CAAArB,IAAA,CAAAqB,SAAA,CAAApB,IAAA,SAAAoB,SAAA,CAAApB,IAAA,SACc,KAAI,CAACC,IAAI,CAACN,MAAM,EAAE,eAAAyB,SAAA,CAAAC,MAAA,UAAAD,SAAA,CAAAjB,IAAA,0BAAAiB,SAAA,CAAAV,IAAA,MAAAQ,QAAA,QAC/B,YAAAhB,WAAA,SAAAe,WAAA,CAAAL,KAAA,MAAAC,SAAA,UAAAX,UAAA,eAAA5B,KAAA,GAjCkBF,OAAO,EAoC3B,cAAe,CAAAE,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}