{"ast":null,"code":"import _slicedToArray from\"/home/samuel/dev/blackscreen/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Cli from'./cli';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var availableTypes=['app','component','studio','cli'];var defaultPosition={x:200,y:200};var renderApp=function renderApp(name,Component,asset,offset,onFocused,onDragged,onClose){switch(name){case'cli':return/*#__PURE__*/_jsx(Cli,{Component:Component,asset:asset.cli,offset:offset,onFocused:onFocused,onDragged:onDragged,onClose:onClose});}return null;};var AppManager=function AppManager(props){var types=props.types,Component=props.Component,state=props.state,asset=props.asset,style=props.style,onUpdate=props.onUpdate,event=props.event,onFocused=props.onFocused,onClose=props.onClose;var _useState=useState(Object.fromEntries(availableTypes.map(function(type){return[type,defaultPosition];}))),_useState2=_slicedToArray(_useState,2),positions=_useState2[0],setPositions=_useState2[1];var handleFocused=function handleFocused(id,offset){onFocused&&onFocused(id,offset);};var handleDragged=function handleDragged(id,offset){setPositions(function(positions){positions[id]=offset;return positions;});};var handleClose=function handleClose(id){setPositions(function(positions){positions[id]=defaultPosition;return positions;});onClose&&onClose(id);};return/*#__PURE__*/_jsx(_Fragment,{children:types.map(function(id){return renderApp(id,Component,asset,positions[id],function(){return handleFocused(id);},function(offset){return handleDragged(id,offset);},function(){return handleClose(id);});})});};export default AppManager;","map":{"version":3,"names":["useState","Cli","jsx","_jsx","Fragment","_Fragment","availableTypes","defaultPosition","x","y","renderApp","name","Component","asset","offset","onFocused","onDragged","onClose","cli","AppManager","props","types","state","style","onUpdate","event","_useState","Object","fromEntries","map","type","_useState2","_slicedToArray","positions","setPositions","handleFocused","id","handleDragged","handleClose","children"],"sources":["/home/samuel/dev/blackscreen/frontend/src/view/appmanager.js"],"sourcesContent":["import {useState} from 'react'\nimport Cli from './cli'\n\nconst availableTypes = ['app','component','studio','cli']\n\nconst defaultPosition = {x: 200, y: 200}\n\nlet renderApp = (name, Component, asset, offset, onFocused, onDragged, onClose) => {\n\tswitch(name){\n\t\tcase 'cli' : return <Cli Component={Component} asset = {asset.cli}  offset={offset}  onFocused={onFocused} onDragged={onDragged} onClose={onClose}/>\n\t}\n\n\treturn null\n}\n\nlet AppManager = props => {\n\tlet {\n\t\ttypes,\n\t\tComponent,\n\t\tstate,\n\t\tasset,\n\t\tstyle,\n\t\tonUpdate,\n\t\tevent,\n\t\tonFocused,\n\t\tonClose} = props\n\n\tlet [positions, setPositions] = useState( Object.fromEntries( availableTypes.map(type => [type, defaultPosition]) ) )\n\n\n\tlet handleFocused = (id, offset) => {\n\t\tonFocused && onFocused(id, offset)\n\t}\n\n\tlet handleDragged = (id, offset) => {\n\t\tsetPositions( positions => {\n\t\t\tpositions[id] = offset\n\t\t\treturn positions\n\t\t})\n\t}\n\n\tlet handleClose = id => {\n\n\t\tsetPositions( positions => {\n\t\t\tpositions[id] = defaultPosition\n\t\t\treturn positions\n\t\t})\n\n\t\tonClose && onClose(id)\n\t}\n\n\n\treturn <>{types.map(id => renderApp(\n\t\t\t\t\tid,\n\t\t\t\t\tComponent,\n\t\t\t\t\tasset,\n\t\t\t\t\tpositions[id],\n\t\t\t\t\t() => handleFocused(id),\n\t\t\t\t\toffset => handleDragged(id, offset),\n\t\t\t\t\t() => handleClose(id)\n\t\t\t\t)\n\t\t\t)}</>\n\n}\n\nexport default  AppManager\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}