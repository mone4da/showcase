{"ast":null,"code":"import _toConsumableArray from\"/home/samuel/dev/4daos/cameleon/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/samuel/dev/4daos/cameleon/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Component from'./component';import AppManager from'./appmanager';import{Copyright}from'./organisation';import style from'./style';import asset from'./asset';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var View=function View(props){var state=props.state,event=props.event,onUpdate=props.onUpdate;var _useState=useState(state.user.apps),_useState2=_slicedToArray(_useState,2),appTypes=_useState2[0],setAppTypes=_useState2[1];var handleMenu=function handleMenu(type){setAppTypes(function(list){return list.indexOf(type)<0?[].concat(_toConsumableArray(list),[type]):list;});};var handleFocused=function handleFocused(id){setAppTypes(function(list){return[].concat(_toConsumableArray(list.filter(function(type){return type!==id;})),[id]);});};var handleClose=function handleClose(id){setAppTypes(function(list){return list.filter(function(type){return type!==id;});});};var handleCommand=function handleCommand(id,data){onUpdate&&onUpdate('command',data);};return/*#__PURE__*/_jsxs(\"div\",{style:style,children:[/*#__PURE__*/_jsx(Copyright,{style:style.organisation.copyright,content:state.system.copyright}),/*#__PURE__*/_jsx(AppManager,{types:appTypes,Component:Component,state:state,style:style,asset:asset,event:event,onCommand:handleCommand,onFocused:handleFocused,onClose:handleClose})]});};export default View;","map":{"version":3,"names":["useState","Component","AppManager","Copyright","style","asset","jsx","_jsx","jsxs","_jsxs","View","props","state","event","onUpdate","_useState","user","apps","_useState2","_slicedToArray","appTypes","setAppTypes","handleMenu","type","list","indexOf","concat","_toConsumableArray","handleFocused","id","filter","handleClose","handleCommand","data","children","organisation","copyright","content","system","types","onCommand","onFocused","onClose"],"sources":["/home/samuel/dev/4daos/cameleon/frontend/src/view/index.js"],"sourcesContent":["import {useState} from 'react'\n\nimport Component from './component'\nimport AppManager from './appmanager'\nimport {Copyright} from './organisation'\n\nimport style from './style'\nimport asset from './asset'\n\nlet View = props => {\n\tlet {state, event, onUpdate} = props\n\n\tlet [appTypes, setAppTypes] = useState(state.user.apps)\n\n\tlet handleMenu = type => {\n\t\tsetAppTypes( list => list.indexOf(type) < 0 ? [...list,  type] : list )\n\t}\n\n\tlet handleFocused = id => {\n\t\tsetAppTypes(list =>  [...list.filter(type => type !== id), id] )\n\t}\n\n\n\tlet handleClose = id => {\n\t\tsetAppTypes( list => list.filter(type => type !== id) )\n\t}\n\n\tlet handleCommand = (id, data) => {\n\t\tonUpdate && onUpdate('command', data)\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<Copyright\n\t\t\t\tstyle={style.organisation.copyright}\n\t\t\t\tcontent={state.system.copyright}\n\t\t\t/>\n\n\t\t\t<AppManager\n\t\t\t\ttypes={appTypes}\n\t\t\t\tComponent={Component}\n\t\t\t\tstate={state}\n\t\t\t\tstyle={style}\n\t\t\t\tasset={asset}\n\t\t\t\tevent={event}\n\t\t\t\tonCommand={handleCommand}\n\t\t\t\tonFocused={handleFocused}\n\t\t\t\tonClose={handleClose}/>\n\n\t\t</div>\n\t)\n}\n\nexport default View\n"],"mappings":"oQAAA,OAAQA,QAAQ,KAAO,OAAO,CAE9B,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAAQC,SAAS,KAAO,gBAAgB,CAExC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,KAAK,KAAM,SAAS,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3B,GAAI,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAGC,KAAK,CAAI,CACnB,GAAK,CAAAC,KAAK,CAAqBD,KAAK,CAA/BC,KAAK,CAAEC,KAAK,CAAcF,KAAK,CAAxBE,KAAK,CAAEC,QAAQ,CAAIH,KAAK,CAAjBG,QAAQ,CAE3B,IAAAC,SAAA,CAA8Bf,QAAQ,CAACY,KAAK,CAACI,IAAI,CAACC,IAAI,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAAlDK,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE1B,GAAI,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAGC,IAAI,CAAI,CACxBF,WAAW,CAAE,SAAAG,IAAI,QAAI,CAAAA,IAAI,CAACC,OAAO,CAACF,IAAI,CAAC,CAAG,CAAC,IAAAG,MAAA,CAAAC,kBAAA,CAAOH,IAAI,GAAGD,IAAI,GAAIC,IAAI,GAAE,CACxE,CAAC,CAED,GAAI,CAAAI,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAGC,EAAE,CAAI,CACzBR,WAAW,CAAC,SAAAG,IAAI,WAAAE,MAAA,CAAAC,kBAAA,CAASH,IAAI,CAACM,MAAM,CAAC,SAAAP,IAAI,QAAI,CAAAA,IAAI,GAAKM,EAAE,GAAC,GAAEA,EAAE,IAAC,CAAE,CACjE,CAAC,CAGD,GAAI,CAAAE,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAGF,EAAE,CAAI,CACvBR,WAAW,CAAE,SAAAG,IAAI,QAAI,CAAAA,IAAI,CAACM,MAAM,CAAC,SAAAP,IAAI,QAAI,CAAAA,IAAI,GAAKM,EAAE,GAAC,GAAE,CACxD,CAAC,CAED,GAAI,CAAAG,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIH,EAAE,CAAEI,IAAI,CAAK,CACjCnB,QAAQ,EAAIA,QAAQ,CAAC,SAAS,CAAEmB,IAAI,CAAC,CACtC,CAAC,CAED,mBACCxB,KAAA,QAAKL,KAAK,CAAEA,KAAM,CAAA8B,QAAA,eACjB3B,IAAA,CAACJ,SAAS,EACTC,KAAK,CAAEA,KAAK,CAAC+B,YAAY,CAACC,SAAU,CACpCC,OAAO,CAAEzB,KAAK,CAAC0B,MAAM,CAACF,SAAU,EAC/B,cAEF7B,IAAA,CAACL,UAAU,EACVqC,KAAK,CAAEnB,QAAS,CAChBnB,SAAS,CAAEA,SAAU,CACrBW,KAAK,CAAEA,KAAM,CACbR,KAAK,CAAEA,KAAM,CACbC,KAAK,CAAEA,KAAM,CACbQ,KAAK,CAAEA,KAAM,CACb2B,SAAS,CAAER,aAAc,CACzBS,SAAS,CAAEb,aAAc,CACzBc,OAAO,CAAEX,WAAY,EAAE,GAEnB,CAER,CAAC,CAED,cAAe,CAAArB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}