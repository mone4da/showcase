{"ast":null,"code":"import _objectSpread from\"/home/samuel/dev/4daos/cameleon/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/home/samuel/dev/4daos/cameleon/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/samuel/dev/4daos/cameleon/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{Manager}from'socket.io-client';var Session=/*#__PURE__*/function(){function Session(){_classCallCheck(this,Session);this.connect();}_createClass(Session,[{key:\"connect\",value:function connect(){var _this=this;this.manager=new Manager();this.socket=this.manager.socket('/');this.socket.on('connect',function(){_this.onConnection();});this.socket.on('disconnect',function(){_this.onDisconnection();});this.socket.on('connect_error',function(_){return _this.onConnectionError(_);});this.socket.on('session',function(_){return _this.onSession(_);});this.socket.on('granted',function(_){return _this.onGranted(_);});this.socket.on('denied',function(_){return _this.onDenied(_);});this.socket.on('reply',function(_){return _this.onReply(_);});this.socket.on('latency',function(_){return _this.onLatency(_);});}// Event\n},{key:\"onConnection\",value:function onConnection(){}},{key:\"onDisconnection\",value:function onDisconnection(){}},{key:\"onConnectionError\",value:function onConnectionError(_){}},{key:\"onSession\",value:function onSession(_){}},{key:\"onGranted\",value:function onGranted(_){}},{key:\"onDenied\",value:function onDenied(_){}},{key:\"onReply\",value:function onReply(_){}},{key:\"onLatency\",value:function onLatency(_){}//Method\n},{key:\"send\",value:function send(id,data){this.socket.emit(id,_objectSpread({timestamp:Date.now()},data));}},{key:\"signin\",value:function signin(accesskey,password,address){var data={body:{accesskey:accesskey,password:password,address:address}};this.send('signin',data);}},{key:\"signout\",value:function signout(accesskey,password,address){var data={body:{accesskey:accesskey,password:password,address:address}};this.send('signout',data);}},{key:\"signal\",value:function signal(from,to,subject,body){this.send('signal',{from:from,to:to,subject:subject,body:body});}},{key:\"reply\",value:function reply(from,to,subject,body){this.send('reply',{from:from,to:to,subject:subject,body:body});}}]);return Session;}();export default Session;","map":{"version":3,"names":["Manager","Session","_classCallCheck","connect","_createClass","key","value","_this","manager","socket","on","onConnection","onDisconnection","_","onConnectionError","onSession","onGranted","onDenied","onReply","onLatency","send","id","data","emit","_objectSpread","timestamp","Date","now","signin","accesskey","password","address","body","signout","signal","from","to","subject","reply"],"sources":["/home/samuel/dev/4daos/cameleon/frontend/src/model/session.js"],"sourcesContent":["\nimport {Manager} from 'socket.io-client'\n\nclass Session {\n\tconstructor() {\n\t\tthis.connect()\n\t}\n  \n\tconnect() {\n\t  this.manager = new Manager()\n\t  this.socket = this.manager.socket('/')\n  \n\t  this.socket.on('connect', () => { this.onConnection() })\n\t  this.socket.on('disconnect', () => { this.onDisconnection() })\n\t  this.socket.on('connect_error', _ => this.onConnectionError(_))\n\t  this.socket.on('session', _ => this.onSession(_))\n\t  this.socket.on('granted', _ => this.onGranted(_))\n\t  this.socket.on('denied', _ => this.onDenied(_))\n\t  this.socket.on('reply', _ => this.onReply(_))\n\t  this.socket.on('latency', _ => this.onLatency(_))\n\t}\n  \n\t// Event\n\tonConnection() { }\n\tonDisconnection() { }\n\tonConnectionError(_) { }\n\tonSession(_) { }\n\tonGranted(_) { }\n\tonDenied(_) { }\n\tonReply(_) { }\n\tonLatency(_){}\n  \n\t//Method\n\tsend(id, data) {\n\t  this.socket.emit(id, { timestamp: Date.now(), ...data })\n\t}\n  \n\tsignin(accesskey, password, address) {\n\t  let data = {\n\t\tbody: {\n\t\t  accesskey,\n\t\t  password,\n\t\t  address\n\t\t}\n\t  }\n  \n\t  this.send('signin', data)\n\t}\n\tsignout(accesskey, password, address) {\n\t  let data = {\n\t\tbody: {\n\t\t  accesskey,\n\t\t  password,\n\t\t  address\n\t\t}\n\t  }\n  \n\t  this.send('signout', data)\n\t}\n  \n\tsignal(from, to, subject, body) {\n\t  this.send('signal', {\n\t\tfrom,\n\t\tto,\n\t\tsubject,\n\t\tbody\n\t  })\n\t}\n  \n\treply(from, to, subject, body) {\n\t  this.send('reply', {\n\t\tfrom,\n\t\tto,\n\t\tsubject,\n\t\tbody\n\t  })\n\t}\n  \n  }\n\nexport default Session\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}