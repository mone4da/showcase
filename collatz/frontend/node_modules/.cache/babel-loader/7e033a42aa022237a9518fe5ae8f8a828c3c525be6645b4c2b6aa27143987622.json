{"ast":null,"code":"import _slicedToArray from\"/home/samuel/repo/showcase/collatz/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var sameEvents=function sameEvents(a,b){return a.source===b.source&&JSON.stringify(a.data)===JSON.stringify(b.data);};var App=function App(props){var model=props.model;var View=props.View;var _useState=useState(model.state),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState({source:'',data:''}),_useState4=_slicedToArray(_useState3,2),event=_useState4[0],setEvent=_useState4[1];var handleUpdate=function handleUpdate(data,id){model.update(data,id);};model.onUpdate=function(data,source){var newEvent={data:data,source:source};!sameEvents(event,newEvent)&&setEvent(newEvent);};return/*#__PURE__*/_jsx(View,{state:state,onUpdate:handleUpdate,event:event});};export default App;","map":{"version":3,"names":["useState","jsx","_jsx","sameEvents","a","b","source","JSON","stringify","data","App","props","model","View","_useState","state","_useState2","_slicedToArray","setState","_useState3","_useState4","event","setEvent","handleUpdate","id","update","onUpdate","newEvent"],"sources":["/home/samuel/repo/showcase/collatz/frontend/src/app.js"],"sourcesContent":["\nimport {useState} from 'react'\n\nlet sameEvents = (a,b) => {\n\treturn a.source === b.source &&\n\t\tJSON.stringify(a.data) === JSON.stringify(b.data)\n}\n\nlet App = props => {\n\tlet model = props.model\n\tlet View = props.View\n\n\tlet [state, setState] = useState(model.state)\n\tlet [event, setEvent] = useState({source:'', data:''})\n\n\tlet handleUpdate = (data,id) => {\n\t\tmodel.update(data, id)\n\t}\n\n\tmodel.onUpdate = (data, source) => {\n\t\tlet newEvent = {data, source}\n\t\t!sameEvents(event, newEvent) && setEvent(newEvent)\n\t}\n\n\treturn (\n\t\t<View\n\t\t\tstate={state}\n\t\t\tonUpdate = {handleUpdate}\n\t\t\tevent={event}\n\t\t\t/>\n\n\t)\n}\n\nexport default App\n"],"mappings":"iIACA,OAAQA,QAAQ,KAAO,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAE9B,GAAI,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,CAAC,CAACC,CAAC,CAAK,CACzB,MAAO,CAAAD,CAAC,CAACE,MAAM,GAAKD,CAAC,CAACC,MAAM,EAC3BC,IAAI,CAACC,SAAS,CAACJ,CAAC,CAACK,IAAI,CAAC,GAAKF,IAAI,CAACC,SAAS,CAACH,CAAC,CAACI,IAAI,CAAC,CACnD,CAAC,CAED,GAAI,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAGC,KAAK,CAAI,CAClB,GAAI,CAAAC,KAAK,CAAGD,KAAK,CAACC,KAAK,CACvB,GAAI,CAAAC,IAAI,CAAGF,KAAK,CAACE,IAAI,CAErB,IAAAC,SAAA,CAAwBd,QAAQ,CAACY,KAAK,CAACG,KAAK,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAAxCC,KAAK,CAAAC,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAAwBnB,QAAQ,CAAC,CAACM,MAAM,CAAC,EAAE,CAAEG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAAW,UAAA,CAAAH,cAAA,CAAAE,UAAA,IAAjDE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEpB,GAAI,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAId,IAAI,CAACe,EAAE,CAAK,CAC/BZ,KAAK,CAACa,MAAM,CAAChB,IAAI,CAAEe,EAAE,CAAC,CACvB,CAAC,CAEDZ,KAAK,CAACc,QAAQ,CAAG,SAACjB,IAAI,CAAEH,MAAM,CAAK,CAClC,GAAI,CAAAqB,QAAQ,CAAG,CAAClB,IAAI,CAAJA,IAAI,CAAEH,MAAM,CAANA,MAAM,CAAC,CAC7B,CAACH,UAAU,CAACkB,KAAK,CAAEM,QAAQ,CAAC,EAAIL,QAAQ,CAACK,QAAQ,CAAC,CACnD,CAAC,CAED,mBACCzB,IAAA,CAACW,IAAI,EACJE,KAAK,CAAEA,KAAM,CACbW,QAAQ,CAAIH,YAAa,CACzBF,KAAK,CAAEA,KAAM,EACX,CAGL,CAAC,CAED,cAAe,CAAAX,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}