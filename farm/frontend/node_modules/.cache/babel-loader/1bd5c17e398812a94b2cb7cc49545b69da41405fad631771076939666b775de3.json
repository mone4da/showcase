{"ast":null,"code":"import { NumberKeyframeTrack, AnimationClip, Vector3, VectorKeyframeTrack, BooleanKeyframeTrack, ColorKeyframeTrack } from 'three';\nvar AnimationClipCreator = function AnimationClipCreator() {};\nAnimationClipCreator.CreateRotationAnimation = function (period, axis) {\n  var times = [0, period],\n    values = [0, 360];\n  axis = axis || 'x';\n  var trackName = \".rotation[\".concat(axis, \"]\");\n  var track = new NumberKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, period, [track]);\n};\nAnimationClipCreator.CreateScaleAxisAnimation = function (period, axis) {\n  var times = [0, period],\n    values = [0, 1];\n  axis = axis || 'x';\n  var trackName = \".scale[\".concat(axis, \"]\");\n  var track = new NumberKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, period, [track]);\n};\nAnimationClipCreator.CreateShakeAnimation = function (duration, shakeScale) {\n  var times = [],\n    values = [],\n    tmp = new Vector3();\n  for (var i = 0; i < duration * 10; i++) {\n    times.push(i / 10);\n    tmp.set(Math.random() * 2.0 - 1.0, Math.random() * 2.0 - 1.0, Math.random() * 2.0 - 1.0).multiply(shakeScale).toArray(values, values.length);\n  }\n  var trackName = '.position';\n  var track = new VectorKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\nAnimationClipCreator.CreatePulsationAnimation = function (duration, pulseScale) {\n  var times = [],\n    values = [],\n    tmp = new Vector3();\n  for (var i = 0; i < duration * 10; i++) {\n    times.push(i / 10);\n    var scaleFactor = Math.random() * pulseScale;\n    tmp.set(scaleFactor, scaleFactor, scaleFactor).toArray(values, values.length);\n  }\n  var trackName = '.scale';\n  var track = new VectorKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\nAnimationClipCreator.CreateVisibilityAnimation = function (duration) {\n  var times = [0, duration / 2, duration],\n    values = [true, false, true];\n  var trackName = '.visible';\n  var track = new BooleanKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\nAnimationClipCreator.CreateMaterialColorAnimation = function (duration, colors) {\n  var times = [],\n    values = [],\n    timeStep = duration / colors.length;\n  for (var i = 0; i <= colors.length; i++) {\n    times.push(i * timeStep);\n    values.push(colors[i % colors.length]);\n  }\n  var trackName = '.material[0].color';\n  var track = new ColorKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\nexport { AnimationClipCreator };","map":{"version":3,"names":["NumberKeyframeTrack","AnimationClip","Vector3","VectorKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","AnimationClipCreator","CreateRotationAnimation","period","axis","times","values","trackName","concat","track","CreateScaleAxisAnimation","CreateShakeAnimation","duration","shakeScale","tmp","i","push","set","Math","random","multiply","toArray","length","CreatePulsationAnimation","pulseScale","scaleFactor","CreateVisibilityAnimation","CreateMaterialColorAnimation","colors","timeStep"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/animation/AnimationClipCreator.js"],"sourcesContent":["import { NumberKeyframeTrack, AnimationClip, Vector3, VectorKeyframeTrack, BooleanKeyframeTrack, ColorKeyframeTrack } from 'three';\n\nconst AnimationClipCreator = () => {};\n\nAnimationClipCreator.CreateRotationAnimation = (period, axis) => {\n  const times = [0, period],\n        values = [0, 360];\n  axis = axis || 'x';\n  const trackName = `.rotation[${axis}]`;\n  const track = new NumberKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, period, [track]);\n};\n\nAnimationClipCreator.CreateScaleAxisAnimation = (period, axis) => {\n  const times = [0, period],\n        values = [0, 1];\n  axis = axis || 'x';\n  const trackName = `.scale[${axis}]`;\n  const track = new NumberKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, period, [track]);\n};\n\nAnimationClipCreator.CreateShakeAnimation = (duration, shakeScale) => {\n  const times = [],\n        values = [],\n        tmp = new Vector3();\n\n  for (let i = 0; i < duration * 10; i++) {\n    times.push(i / 10);\n    tmp.set(Math.random() * 2.0 - 1.0, Math.random() * 2.0 - 1.0, Math.random() * 2.0 - 1.0).multiply(shakeScale).toArray(values, values.length);\n  }\n\n  const trackName = '.position';\n  const track = new VectorKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\n\nAnimationClipCreator.CreatePulsationAnimation = (duration, pulseScale) => {\n  const times = [],\n        values = [],\n        tmp = new Vector3();\n\n  for (let i = 0; i < duration * 10; i++) {\n    times.push(i / 10);\n    const scaleFactor = Math.random() * pulseScale;\n    tmp.set(scaleFactor, scaleFactor, scaleFactor).toArray(values, values.length);\n  }\n\n  const trackName = '.scale';\n  const track = new VectorKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\n\nAnimationClipCreator.CreateVisibilityAnimation = duration => {\n  const times = [0, duration / 2, duration],\n        values = [true, false, true];\n  const trackName = '.visible';\n  const track = new BooleanKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\n\nAnimationClipCreator.CreateMaterialColorAnimation = (duration, colors) => {\n  const times = [],\n        values = [],\n        timeStep = duration / colors.length;\n\n  for (let i = 0; i <= colors.length; i++) {\n    times.push(i * timeStep);\n    values.push(colors[i % colors.length]);\n  }\n\n  const trackName = '.material[0].color';\n  const track = new ColorKeyframeTrack(trackName, times, values);\n  return new AnimationClip(null, duration, [track]);\n};\n\nexport { AnimationClipCreator };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}