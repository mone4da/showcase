{"ast":null,"code":"import _classCallCheck from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport TempNode from '../core/TempNode.js';\nimport { normalize, join, negate, positionViewDirection, cross, add, mul, dot, transformedNormalView } from '../ShaderNode.js';\nvar MatcapUVNode = /*#__PURE__*/function (_TempNode) {\n  _inherits(MatcapUVNode, _TempNode);\n  var _super = _createSuper(MatcapUVNode);\n  function MatcapUVNode() {\n    _classCallCheck(this, MatcapUVNode);\n    return _super.call(this, 'vec2');\n  }\n  _createClass(MatcapUVNode, [{\n    key: \"generate\",\n    value: function generate(builder) {\n      var x = normalize(join(positionViewDirection.z, 0, negate(positionViewDirection.x)));\n      var y = cross(positionViewDirection, x);\n      var uv = add(mul(join(dot(x, transformedNormalView), dot(y, transformedNormalView)), 0.495), 0.5);\n      return uv.build(builder, this.getNodeType(builder));\n    }\n  }]);\n  return MatcapUVNode;\n}(TempNode);\nexport default MatcapUVNode;","map":{"version":3,"names":["TempNode","normalize","join","negate","positionViewDirection","cross","add","mul","dot","transformedNormalView","MatcapUVNode","_TempNode","_inherits","_super","_createSuper","_classCallCheck","call","_createClass","key","value","generate","builder","x","z","y","uv","build","getNodeType"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/nodes/utils/MatcapUVNode.js"],"sourcesContent":["import TempNode from '../core/TempNode.js';\nimport { normalize, join, negate, positionViewDirection, cross, add, mul, dot, transformedNormalView } from '../ShaderNode.js';\n\nclass MatcapUVNode extends TempNode {\n  constructor() {\n    super('vec2');\n  }\n\n  generate(builder) {\n    const x = normalize(join(positionViewDirection.z, 0, negate(positionViewDirection.x)));\n    const y = cross(positionViewDirection, x);\n    const uv = add(mul(join(dot(x, transformedNormalView), dot(y, transformedNormalView)), 0.495), 0.5);\n    return uv.build(builder, this.getNodeType(builder));\n  }\n\n}\n\nexport default MatcapUVNode;\n"],"mappings":";;;;AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAC1C,SAASC,SAAS,EAAEC,IAAI,EAAEC,MAAM,EAAEC,qBAAqB,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,qBAAqB,QAAQ,kBAAkB;AAAC,IAEzHC,YAAY,0BAAAC,SAAA;EAAAC,SAAA,CAAAF,YAAA,EAAAC,SAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,YAAA;EAChB,SAAAA,aAAA,EAAc;IAAAK,eAAA,OAAAL,YAAA;IAAA,OAAAG,MAAA,CAAAG,IAAA,OACN,MAAM;EACd;EAACC,YAAA,CAAAP,YAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,SAASC,OAAO,EAAE;MAChB,IAAMC,CAAC,GAAGrB,SAAS,CAACC,IAAI,CAACE,qBAAqB,CAACmB,CAAC,EAAE,CAAC,EAAEpB,MAAM,CAACC,qBAAqB,CAACkB,CAAC,CAAC,CAAC,CAAC;MACtF,IAAME,CAAC,GAAGnB,KAAK,CAACD,qBAAqB,EAAEkB,CAAC,CAAC;MACzC,IAAMG,EAAE,GAAGnB,GAAG,CAACC,GAAG,CAACL,IAAI,CAACM,GAAG,CAACc,CAAC,EAAEb,qBAAqB,CAAC,EAAED,GAAG,CAACgB,CAAC,EAAEf,qBAAqB,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC;MACnG,OAAOgB,EAAE,CAACC,KAAK,CAACL,OAAO,EAAE,IAAI,CAACM,WAAW,CAACN,OAAO,CAAC,CAAC;IACrD;EAAC;EAAA,OAAAX,YAAA;AAAA,EAVwBV,QAAQ;AAcnC,eAAeU,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}