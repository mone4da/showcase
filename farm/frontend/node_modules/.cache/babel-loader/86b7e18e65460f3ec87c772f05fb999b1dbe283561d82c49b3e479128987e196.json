{"ast":null,"code":"import _slicedToArray from\"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Rufus,Gunter}from'./chicken';import useKeyboard from'./useKeyboard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wall=function Wall(props){var x=props.x,h=props.h,z=props.z;return/*#__PURE__*/_jsx(\"rect\",{x:x,y:z,width:1,height:1,fill:h?'green':' black'});};var Player=function Player(props){var position=props.position,material=props.material;return/*#__PURE__*/_jsx(\"rect\",{x:position.x+1,y:position.z+1,width:\".8\",height:\".8\",fill:material.color});};var Maze=function Maze(props){var data=props.data,style=props.style,player=props.player;var _useState=useState(player.position),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var width=data[0].length;var height=data.length;var scale={x:style.width/width,y:style.height/height};console.log(width,height,scale);return/*#__PURE__*/_jsx(\"svg\",{style:style,children:/*#__PURE__*/_jsxs(\"g\",{transform:\"scale(\".concat(scale.x,\",\").concat(scale.y,\")\"),children:[data.map(function(row,r){return row.map(function(w,c){return/*#__PURE__*/_jsx(Wall,{x:c,h:w,z:r});});}),/*#__PURE__*/_jsx(Player,{position:position,material:player.material})]})});};export default Maze;","map":{"version":3,"names":["useState","Rufus","Gunter","useKeyboard","jsx","_jsx","jsxs","_jsxs","Wall","props","x","h","z","y","width","height","fill","Player","position","material","color","Maze","data","style","player","_useState","_useState2","_slicedToArray","setPosition","length","scale","console","log","children","transform","concat","map","row","r","w","c"],"sources":["/home/samuel/experiment/3d/farm/frontend/src/view/maze.js"],"sourcesContent":["import {useState} from 'react'\nimport {Rufus, Gunter} from './chicken'\nimport useKeyboard from './useKeyboard'\n\nconst Wall = props => {\n\t\tlet {x,h,z} = props\n\n\treturn <rect\n\t\t\tx={x}\n\t\t\ty={z}\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tfill={h ? 'green' : ' black'} \n\t\t/>\n}\n\nconst Player = props => {\n\t\tlet {position, material} = props\n\n\treturn\t<rect\n\t\t\tx={position.x + 1}\n\t\t\ty={position.z + 1}\n\t\t\twidth='.8'\n\t\t\theight='.8'\n\t\t\tfill={material.color} \n\t\t/>\n}\n\n\nlet Maze = props => {\n\tlet {data, style, player} = props\n\n\tlet [position, setPosition] = useState(player.position)\n\n\tlet width = data[0].length\n\tlet height = data.length\n\n\tlet scale = {\n\t\tx : style.width/width,\n\t\ty: style.height/height\n\t}\n\n\tconsole.log(width, height, scale)\n\n\treturn <svg style={style} >\n\t\t\t<g transform={`scale(${scale.x},${scale.y})`}>\n\t\t\t\t{data.map( (row, r) => row.map((w,c) => <Wall x={c} h={w} z={r} /> ))}\n\n\t\t\t\t<Player position={position} material={player.material} />\n\t\t\t</g>\n\t\t</svg>\n}\n\nexport default Maze\n"],"mappings":"8HAAA,OAAQA,QAAQ,KAAO,OAAO,CAC9B,OAAQC,KAAK,CAAEC,MAAM,KAAO,WAAW,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAGC,KAAK,CAAI,CACpB,GAAK,CAAAC,CAAC,CAAQD,KAAK,CAAdC,CAAC,CAACC,CAAC,CAAMF,KAAK,CAAZE,CAAC,CAACC,CAAC,CAAIH,KAAK,CAAVG,CAAC,CAEX,mBAAOP,IAAA,SACLK,CAAC,CAAEA,CAAE,CACLG,CAAC,CAAED,CAAE,CACLE,KAAK,CAAE,CAAE,CACTC,MAAM,CAAE,CAAE,CACVC,IAAI,CAAEL,CAAC,CAAG,OAAO,CAAG,QAAS,EAC5B,CACJ,CAAC,CAED,GAAM,CAAAM,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAGR,KAAK,CAAI,CACtB,GAAK,CAAAS,QAAQ,CAAcT,KAAK,CAA3BS,QAAQ,CAAEC,QAAQ,CAAIV,KAAK,CAAjBU,QAAQ,CAExB,mBAAOd,IAAA,SACLK,CAAC,CAAEQ,QAAQ,CAACR,CAAC,CAAG,CAAE,CAClBG,CAAC,CAAEK,QAAQ,CAACN,CAAC,CAAG,CAAE,CAClBE,KAAK,CAAC,IAAI,CACVC,MAAM,CAAC,IAAI,CACXC,IAAI,CAAEG,QAAQ,CAACC,KAAM,EACpB,CACJ,CAAC,CAGD,GAAI,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAGZ,KAAK,CAAI,CACnB,GAAK,CAAAa,IAAI,CAAmBb,KAAK,CAA5Ba,IAAI,CAAEC,KAAK,CAAYd,KAAK,CAAtBc,KAAK,CAAEC,MAAM,CAAIf,KAAK,CAAfe,MAAM,CAExB,IAAAC,SAAA,CAA8BzB,QAAQ,CAACwB,MAAM,CAACN,QAAQ,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDP,QAAQ,CAAAQ,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE1B,GAAI,CAAAZ,KAAK,CAAGQ,IAAI,CAAC,CAAC,CAAC,CAACO,MAAM,CAC1B,GAAI,CAAAd,MAAM,CAAGO,IAAI,CAACO,MAAM,CAExB,GAAI,CAAAC,KAAK,CAAG,CACXpB,CAAC,CAAGa,KAAK,CAACT,KAAK,CAACA,KAAK,CACrBD,CAAC,CAAEU,KAAK,CAACR,MAAM,CAACA,MACjB,CAAC,CAEDgB,OAAO,CAACC,GAAG,CAAClB,KAAK,CAAEC,MAAM,CAAEe,KAAK,CAAC,CAEjC,mBAAOzB,IAAA,QAAKkB,KAAK,CAAEA,KAAM,CAAAU,QAAA,cACvB1B,KAAA,MAAG2B,SAAS,UAAAC,MAAA,CAAWL,KAAK,CAACpB,CAAC,MAAAyB,MAAA,CAAIL,KAAK,CAACjB,CAAC,KAAI,CAAAoB,QAAA,EAC3CX,IAAI,CAACc,GAAG,CAAE,SAACC,GAAG,CAAEC,CAAC,QAAK,CAAAD,GAAG,CAACD,GAAG,CAAC,SAACG,CAAC,CAACC,CAAC,qBAAKnC,IAAA,CAACG,IAAI,EAACE,CAAC,CAAE8B,CAAE,CAAC7B,CAAC,CAAE4B,CAAE,CAAC3B,CAAC,CAAE0B,CAAE,EAAG,GAAE,GAAC,cAErEjC,IAAA,CAACY,MAAM,EAACC,QAAQ,CAAEA,QAAS,CAACC,QAAQ,CAAEK,MAAM,CAACL,QAAS,EAAG,GACtD,EACC,CACR,CAAC,CAED,cAAe,CAAAE,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}