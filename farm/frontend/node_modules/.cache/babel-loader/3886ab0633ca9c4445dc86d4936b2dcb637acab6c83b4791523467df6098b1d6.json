{"ast":null,"code":"import _classCallCheck from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Loader, CanvasTexture, NearestFilter, FileLoader } from 'three';\nvar LottieLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(LottieLoader, _Loader);\n  var _super = _createSuper(LottieLoader);\n  function LottieLoader() {\n    _classCallCheck(this, LottieLoader);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LottieLoader, [{\n    key: \"setQuality\",\n    value: function setQuality(value) {\n      this._quality = value;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var quality = this._quality || 1;\n      var texture = new CanvasTexture();\n      texture.minFilter = NearestFilter;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        var data = JSON.parse(text); // bodymoving uses container.offetWidth and offsetHeight\n        // to define width/height\n\n        var container = document.createElement('div');\n        container.style.width = data.w + 'px';\n        container.style.height = data.h + 'px';\n        document.body.appendChild(container);\n        var animation = bodymovin.loadAnimation({\n          container: container,\n          animType: 'canvas',\n          loop: true,\n          autoplay: true,\n          animationData: data,\n          rendererSettings: {\n            dpr: quality\n          }\n        });\n        texture.animation = animation;\n        texture.image = animation.container;\n        animation.addEventListener('enterFrame', function () {\n          texture.needsUpdate = true;\n        });\n        container.style.display = 'none';\n        if (onLoad !== undefined) {\n          onLoad(texture);\n        }\n      }, onProgress, onError);\n      return texture;\n    }\n  }]);\n  return LottieLoader;\n}(Loader);\nexport { LottieLoader };","map":{"version":3,"names":["Loader","CanvasTexture","NearestFilter","FileLoader","LottieLoader","_Loader","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","setQuality","_quality","load","url","onLoad","onProgress","onError","quality","texture","minFilter","loader","manager","setPath","path","setWithCredentials","withCredentials","text","data","JSON","parse","container","document","createElement","style","width","w","height","h","body","appendChild","animation","bodymovin","loadAnimation","animType","loop","autoplay","animationData","rendererSettings","dpr","image","addEventListener","needsUpdate","display","undefined"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/loaders/LottieLoader.js"],"sourcesContent":["import { Loader, CanvasTexture, NearestFilter, FileLoader } from 'three';\n\nclass LottieLoader extends Loader {\n  setQuality(value) {\n    this._quality = value;\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const quality = this._quality || 1;\n    const texture = new CanvasTexture();\n    texture.minFilter = NearestFilter;\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (text) {\n      const data = JSON.parse(text); // bodymoving uses container.offetWidth and offsetHeight\n      // to define width/height\n\n      const container = document.createElement('div');\n      container.style.width = data.w + 'px';\n      container.style.height = data.h + 'px';\n      document.body.appendChild(container);\n      const animation = bodymovin.loadAnimation({\n        container: container,\n        animType: 'canvas',\n        loop: true,\n        autoplay: true,\n        animationData: data,\n        rendererSettings: {\n          dpr: quality\n        }\n      });\n      texture.animation = animation;\n      texture.image = animation.container;\n      animation.addEventListener('enterFrame', function () {\n        texture.needsUpdate = true;\n      });\n      container.style.display = 'none';\n\n      if (onLoad !== undefined) {\n        onLoad(texture);\n      }\n    }, onProgress, onError);\n    return texture;\n  }\n\n}\n\nexport { LottieLoader };\n"],"mappings":";;;;AAAA,SAASA,MAAM,EAAEC,aAAa,EAAEC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAAC,IAEnEC,YAAY,0BAAAC,OAAA;EAAAC,SAAA,CAAAF,YAAA,EAAAC,OAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,YAAA;EAAA,SAAAA,aAAA;IAAAK,eAAA,OAAAL,YAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,YAAA;IAAAS,GAAA;IAAAC,KAAA,EAChB,SAAAC,WAAWD,KAAK,EAAE;MAChB,IAAI,CAACE,QAAQ,GAAGF,KAAK;IACvB;EAAC;IAAAD,GAAA;IAAAC,KAAA,EAED,SAAAG,KAAKC,GAAG,EAAEC,MAAM,EAAEC,UAAU,EAAEC,OAAO,EAAE;MACrC,IAAMC,OAAO,GAAG,IAAI,CAACN,QAAQ,IAAI,CAAC;MAClC,IAAMO,OAAO,GAAG,IAAItB,aAAa,EAAE;MACnCsB,OAAO,CAACC,SAAS,GAAGtB,aAAa;MACjC,IAAMuB,MAAM,GAAG,IAAItB,UAAU,CAAC,IAAI,CAACuB,OAAO,CAAC;MAC3CD,MAAM,CAACE,OAAO,CAAC,IAAI,CAACC,IAAI,CAAC;MACzBH,MAAM,CAACI,kBAAkB,CAAC,IAAI,CAACC,eAAe,CAAC;MAC/CL,MAAM,CAACR,IAAI,CAACC,GAAG,EAAE,UAAUa,IAAI,EAAE;QAC/B,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC,CAAC,CAAC;QAC/B;;QAEA,IAAMI,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QAC/CF,SAAS,CAACG,KAAK,CAACC,KAAK,GAAGP,IAAI,CAACQ,CAAC,GAAG,IAAI;QACrCL,SAAS,CAACG,KAAK,CAACG,MAAM,GAAGT,IAAI,CAACU,CAAC,GAAG,IAAI;QACtCN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,SAAS,CAAC;QACpC,IAAMU,SAAS,GAAGC,SAAS,CAACC,aAAa,CAAC;UACxCZ,SAAS,EAAEA,SAAS;UACpBa,QAAQ,EAAE,QAAQ;UAClBC,IAAI,EAAE,IAAI;UACVC,QAAQ,EAAE,IAAI;UACdC,aAAa,EAAEnB,IAAI;UACnBoB,gBAAgB,EAAE;YAChBC,GAAG,EAAE/B;UACP;QACF,CAAC,CAAC;QACFC,OAAO,CAACsB,SAAS,GAAGA,SAAS;QAC7BtB,OAAO,CAAC+B,KAAK,GAAGT,SAAS,CAACV,SAAS;QACnCU,SAAS,CAACU,gBAAgB,CAAC,YAAY,EAAE,YAAY;UACnDhC,OAAO,CAACiC,WAAW,GAAG,IAAI;QAC5B,CAAC,CAAC;QACFrB,SAAS,CAACG,KAAK,CAACmB,OAAO,GAAG,MAAM;QAEhC,IAAItC,MAAM,KAAKuC,SAAS,EAAE;UACxBvC,MAAM,CAACI,OAAO,CAAC;QACjB;MACF,CAAC,EAAEH,UAAU,EAAEC,OAAO,CAAC;MACvB,OAAOE,OAAO;IAChB;EAAC;EAAA,OAAAnB,YAAA;AAAA,EA1CwBJ,MAAM;AA8CjC,SAASI,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}