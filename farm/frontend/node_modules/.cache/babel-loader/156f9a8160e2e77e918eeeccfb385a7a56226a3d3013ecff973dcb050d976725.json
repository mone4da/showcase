{"ast":null,"code":"import _classCallCheck from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { PerspectiveCamera, ShaderMaterial, Scene, OrthographicCamera, WebGLRenderTarget, UniformsUtils, Mesh, PlaneGeometry } from 'three';\nimport { BokehDepthShader, BokehShader2 } from '../shaders/BokehShader2.js';\nvar CinematicCamera = /*#__PURE__*/function (_PerspectiveCamera) {\n  _inherits(CinematicCamera, _PerspectiveCamera);\n  var _super = _createSuper(CinematicCamera);\n  function CinematicCamera(fov, aspect, near, far) {\n    var _this;\n    _classCallCheck(this, CinematicCamera);\n    _this = _super.call(this, fov, aspect, near, far);\n    _this.type = 'CinematicCamera';\n    _this.postprocessing = {\n      enabled: true\n    };\n    _this.shaderSettings = {\n      rings: 3,\n      samples: 4\n    };\n    var depthShader = BokehDepthShader;\n    _this.materialDepth = new ShaderMaterial({\n      uniforms: depthShader.uniforms,\n      vertexShader: depthShader.vertexShader,\n      fragmentShader: depthShader.fragmentShader\n    });\n    _this.materialDepth.uniforms['mNear'].value = near;\n    _this.materialDepth.uniforms['mFar'].value = far; // In case of cinematicCamera, having a default lens set is important\n\n    _this.setLens();\n    _this.initPostProcessing();\n    return _this;\n  } // providing fnumber and coc(Circle of Confusion) as extra arguments\n  _createClass(CinematicCamera, [{\n    key: \"setLens\",\n    value: function setLens(focalLength, filmGauge, fNumber, coc) {\n      // In case of cinematicCamera, having a default lens set is important\n      if (focalLength === undefined) focalLength = 35;\n      if (filmGauge !== undefined) this.filmGauge = filmGauge;\n      this.setFocalLength(focalLength); // if fnumber and coc are not provided, cinematicCamera tries to act as a basic PerspectiveCamera\n\n      if (fNumber === undefined) fNumber = 8;\n      if (coc === undefined) coc = 0.019;\n      this.fNumber = fNumber;\n      this.coc = coc; // fNumber is focalLength by aperture\n\n      this.aperture = focalLength / this.fNumber; // hyperFocal is required to calculate depthOfField when a lens tries to focus at a distance with given fNumber and focalLength\n\n      this.hyperFocal = focalLength * focalLength / (this.aperture * this.coc);\n    }\n  }, {\n    key: \"linearize\",\n    value: function linearize(depth) {\n      var zfar = this.far;\n      var znear = this.near;\n      return -zfar * znear / (depth * (zfar - znear) - zfar);\n    }\n  }, {\n    key: \"smoothstep\",\n    value: function smoothstep(near, far, depth) {\n      var x = this.saturate((depth - near) / (far - near));\n      return x * x * (3 - 2 * x);\n    }\n  }, {\n    key: \"saturate\",\n    value: function saturate(x) {\n      return Math.max(0, Math.min(1, x));\n    } // function for focusing at a distance from the camera\n  }, {\n    key: \"focusAt\",\n    value: function focusAt(focusDistance) {\n      if (focusDistance === undefined) focusDistance = 20;\n      var focalLength = this.getFocalLength(); // distance from the camera (normal to frustrum) to focus on\n\n      this.focus = focusDistance; // the nearest point from the camera which is in focus (unused)\n\n      this.nearPoint = this.hyperFocal * this.focus / (this.hyperFocal + (this.focus - focalLength)); // the farthest point from the camera which is in focus (unused)\n\n      this.farPoint = this.hyperFocal * this.focus / (this.hyperFocal - (this.focus - focalLength)); // the gap or width of the space in which is everything is in focus (unused)\n\n      this.depthOfField = this.farPoint - this.nearPoint; // Considering minimum distance of focus for a standard lens (unused)\n\n      if (this.depthOfField < 0) this.depthOfField = 0;\n      this.sdistance = this.smoothstep(this.near, this.far, this.focus);\n      this.ldistance = this.linearize(1 - this.sdistance);\n      this.postprocessing.bokeh_uniforms['focalDepth'].value = this.ldistance;\n    }\n  }, {\n    key: \"initPostProcessing\",\n    value: function initPostProcessing() {\n      if (this.postprocessing.enabled) {\n        this.postprocessing.scene = new Scene();\n        this.postprocessing.camera = new OrthographicCamera(window.innerWidth / -2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / -2, -10000, 10000);\n        this.postprocessing.scene.add(this.postprocessing.camera);\n        this.postprocessing.rtTextureDepth = new WebGLRenderTarget(window.innerWidth, window.innerHeight);\n        this.postprocessing.rtTextureColor = new WebGLRenderTarget(window.innerWidth, window.innerHeight);\n        var bokeh_shader = BokehShader2;\n        this.postprocessing.bokeh_uniforms = UniformsUtils.clone(bokeh_shader.uniforms);\n        this.postprocessing.bokeh_uniforms['tColor'].value = this.postprocessing.rtTextureColor.texture;\n        this.postprocessing.bokeh_uniforms['tDepth'].value = this.postprocessing.rtTextureDepth.texture;\n        this.postprocessing.bokeh_uniforms['manualdof'].value = 0;\n        this.postprocessing.bokeh_uniforms['shaderFocus'].value = 0;\n        this.postprocessing.bokeh_uniforms['fstop'].value = 2.8;\n        this.postprocessing.bokeh_uniforms['showFocus'].value = 1;\n        this.postprocessing.bokeh_uniforms['focalDepth'].value = 0.1; //console.log( this.postprocessing.bokeh_uniforms[ \"focalDepth\" ].value );\n\n        this.postprocessing.bokeh_uniforms['znear'].value = this.near;\n        this.postprocessing.bokeh_uniforms['zfar'].value = this.near;\n        this.postprocessing.bokeh_uniforms['textureWidth'].value = window.innerWidth;\n        this.postprocessing.bokeh_uniforms['textureHeight'].value = window.innerHeight;\n        this.postprocessing.materialBokeh = new ShaderMaterial({\n          uniforms: this.postprocessing.bokeh_uniforms,\n          vertexShader: bokeh_shader.vertexShader,\n          fragmentShader: bokeh_shader.fragmentShader,\n          defines: {\n            RINGS: this.shaderSettings.rings,\n            SAMPLES: this.shaderSettings.samples,\n            DEPTH_PACKING: 1\n          }\n        });\n        this.postprocessing.quad = new Mesh(new PlaneGeometry(window.innerWidth, window.innerHeight), this.postprocessing.materialBokeh);\n        this.postprocessing.quad.position.z = -500;\n        this.postprocessing.scene.add(this.postprocessing.quad);\n      }\n    }\n  }, {\n    key: \"renderCinematic\",\n    value: function renderCinematic(scene, renderer) {\n      if (this.postprocessing.enabled) {\n        var currentRenderTarget = renderer.getRenderTarget();\n        renderer.clear(); // Render scene into texture\n\n        scene.overrideMaterial = null;\n        renderer.setRenderTarget(this.postprocessing.rtTextureColor);\n        renderer.clear();\n        renderer.render(scene, this); // Render depth into texture\n\n        scene.overrideMaterial = this.materialDepth;\n        renderer.setRenderTarget(this.postprocessing.rtTextureDepth);\n        renderer.clear();\n        renderer.render(scene, this); // Render bokeh composite\n\n        renderer.setRenderTarget(null);\n        renderer.render(this.postprocessing.scene, this.postprocessing.camera);\n        renderer.setRenderTarget(currentRenderTarget);\n      }\n    }\n  }]);\n  return CinematicCamera;\n}(PerspectiveCamera);\nexport { CinematicCamera };","map":{"version":3,"names":["PerspectiveCamera","ShaderMaterial","Scene","OrthographicCamera","WebGLRenderTarget","UniformsUtils","Mesh","PlaneGeometry","BokehDepthShader","BokehShader2","CinematicCamera","_PerspectiveCamera","_inherits","_super","_createSuper","fov","aspect","near","far","_this","_classCallCheck","call","type","postprocessing","enabled","shaderSettings","rings","samples","depthShader","materialDepth","uniforms","vertexShader","fragmentShader","value","setLens","initPostProcessing","_createClass","key","focalLength","filmGauge","fNumber","coc","undefined","setFocalLength","aperture","hyperFocal","linearize","depth","zfar","znear","smoothstep","x","saturate","Math","max","min","focusAt","focusDistance","getFocalLength","focus","nearPoint","farPoint","depthOfField","sdistance","ldistance","bokeh_uniforms","scene","camera","window","innerWidth","innerHeight","add","rtTextureDepth","rtTextureColor","bokeh_shader","clone","texture","materialBokeh","defines","RINGS","SAMPLES","DEPTH_PACKING","quad","position","z","renderCinematic","renderer","currentRenderTarget","getRenderTarget","clear","overrideMaterial","setRenderTarget","render"],"sources":["/home/samuel/experiment/3d/farm/frontend/node_modules/three-stdlib/cameras/CinematicCamera.js"],"sourcesContent":["import { PerspectiveCamera, ShaderMaterial, Scene, OrthographicCamera, WebGLRenderTarget, UniformsUtils, Mesh, PlaneGeometry } from 'three';\nimport { BokehDepthShader, BokehShader2 } from '../shaders/BokehShader2.js';\n\nclass CinematicCamera extends PerspectiveCamera {\n  constructor(fov, aspect, near, far) {\n    super(fov, aspect, near, far);\n    this.type = 'CinematicCamera';\n    this.postprocessing = {\n      enabled: true\n    };\n    this.shaderSettings = {\n      rings: 3,\n      samples: 4\n    };\n    const depthShader = BokehDepthShader;\n    this.materialDepth = new ShaderMaterial({\n      uniforms: depthShader.uniforms,\n      vertexShader: depthShader.vertexShader,\n      fragmentShader: depthShader.fragmentShader\n    });\n    this.materialDepth.uniforms['mNear'].value = near;\n    this.materialDepth.uniforms['mFar'].value = far; // In case of cinematicCamera, having a default lens set is important\n\n    this.setLens();\n    this.initPostProcessing();\n  } // providing fnumber and coc(Circle of Confusion) as extra arguments\n\n\n  setLens(focalLength, filmGauge, fNumber, coc) {\n    // In case of cinematicCamera, having a default lens set is important\n    if (focalLength === undefined) focalLength = 35;\n    if (filmGauge !== undefined) this.filmGauge = filmGauge;\n    this.setFocalLength(focalLength); // if fnumber and coc are not provided, cinematicCamera tries to act as a basic PerspectiveCamera\n\n    if (fNumber === undefined) fNumber = 8;\n    if (coc === undefined) coc = 0.019;\n    this.fNumber = fNumber;\n    this.coc = coc; // fNumber is focalLength by aperture\n\n    this.aperture = focalLength / this.fNumber; // hyperFocal is required to calculate depthOfField when a lens tries to focus at a distance with given fNumber and focalLength\n\n    this.hyperFocal = focalLength * focalLength / (this.aperture * this.coc);\n  }\n\n  linearize(depth) {\n    const zfar = this.far;\n    const znear = this.near;\n    return -zfar * znear / (depth * (zfar - znear) - zfar);\n  }\n\n  smoothstep(near, far, depth) {\n    const x = this.saturate((depth - near) / (far - near));\n    return x * x * (3 - 2 * x);\n  }\n\n  saturate(x) {\n    return Math.max(0, Math.min(1, x));\n  } // function for focusing at a distance from the camera\n\n\n  focusAt(focusDistance) {\n    if (focusDistance === undefined) focusDistance = 20;\n    const focalLength = this.getFocalLength(); // distance from the camera (normal to frustrum) to focus on\n\n    this.focus = focusDistance; // the nearest point from the camera which is in focus (unused)\n\n    this.nearPoint = this.hyperFocal * this.focus / (this.hyperFocal + (this.focus - focalLength)); // the farthest point from the camera which is in focus (unused)\n\n    this.farPoint = this.hyperFocal * this.focus / (this.hyperFocal - (this.focus - focalLength)); // the gap or width of the space in which is everything is in focus (unused)\n\n    this.depthOfField = this.farPoint - this.nearPoint; // Considering minimum distance of focus for a standard lens (unused)\n\n    if (this.depthOfField < 0) this.depthOfField = 0;\n    this.sdistance = this.smoothstep(this.near, this.far, this.focus);\n    this.ldistance = this.linearize(1 - this.sdistance);\n    this.postprocessing.bokeh_uniforms['focalDepth'].value = this.ldistance;\n  }\n\n  initPostProcessing() {\n    if (this.postprocessing.enabled) {\n      this.postprocessing.scene = new Scene();\n      this.postprocessing.camera = new OrthographicCamera(window.innerWidth / -2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / -2, -10000, 10000);\n      this.postprocessing.scene.add(this.postprocessing.camera);\n      this.postprocessing.rtTextureDepth = new WebGLRenderTarget(window.innerWidth, window.innerHeight);\n      this.postprocessing.rtTextureColor = new WebGLRenderTarget(window.innerWidth, window.innerHeight);\n      const bokeh_shader = BokehShader2;\n      this.postprocessing.bokeh_uniforms = UniformsUtils.clone(bokeh_shader.uniforms);\n      this.postprocessing.bokeh_uniforms['tColor'].value = this.postprocessing.rtTextureColor.texture;\n      this.postprocessing.bokeh_uniforms['tDepth'].value = this.postprocessing.rtTextureDepth.texture;\n      this.postprocessing.bokeh_uniforms['manualdof'].value = 0;\n      this.postprocessing.bokeh_uniforms['shaderFocus'].value = 0;\n      this.postprocessing.bokeh_uniforms['fstop'].value = 2.8;\n      this.postprocessing.bokeh_uniforms['showFocus'].value = 1;\n      this.postprocessing.bokeh_uniforms['focalDepth'].value = 0.1; //console.log( this.postprocessing.bokeh_uniforms[ \"focalDepth\" ].value );\n\n      this.postprocessing.bokeh_uniforms['znear'].value = this.near;\n      this.postprocessing.bokeh_uniforms['zfar'].value = this.near;\n      this.postprocessing.bokeh_uniforms['textureWidth'].value = window.innerWidth;\n      this.postprocessing.bokeh_uniforms['textureHeight'].value = window.innerHeight;\n      this.postprocessing.materialBokeh = new ShaderMaterial({\n        uniforms: this.postprocessing.bokeh_uniforms,\n        vertexShader: bokeh_shader.vertexShader,\n        fragmentShader: bokeh_shader.fragmentShader,\n        defines: {\n          RINGS: this.shaderSettings.rings,\n          SAMPLES: this.shaderSettings.samples,\n          DEPTH_PACKING: 1\n        }\n      });\n      this.postprocessing.quad = new Mesh(new PlaneGeometry(window.innerWidth, window.innerHeight), this.postprocessing.materialBokeh);\n      this.postprocessing.quad.position.z = -500;\n      this.postprocessing.scene.add(this.postprocessing.quad);\n    }\n  }\n\n  renderCinematic(scene, renderer) {\n    if (this.postprocessing.enabled) {\n      const currentRenderTarget = renderer.getRenderTarget();\n      renderer.clear(); // Render scene into texture\n\n      scene.overrideMaterial = null;\n      renderer.setRenderTarget(this.postprocessing.rtTextureColor);\n      renderer.clear();\n      renderer.render(scene, this); // Render depth into texture\n\n      scene.overrideMaterial = this.materialDepth;\n      renderer.setRenderTarget(this.postprocessing.rtTextureDepth);\n      renderer.clear();\n      renderer.render(scene, this); // Render bokeh composite\n\n      renderer.setRenderTarget(null);\n      renderer.render(this.postprocessing.scene, this.postprocessing.camera);\n      renderer.setRenderTarget(currentRenderTarget);\n    }\n  }\n\n}\n\nexport { CinematicCamera };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}