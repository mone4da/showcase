{"ast":null,"code":"import _slicedToArray from\"/home/samuel/experiment/3d/farm/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';var useKeyboard=function useKeyboard(_ref){var onKeyup=_ref.onKeyup,onKeydown=_ref.onKeydown,onPressing=_ref.onPressing;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pressing=_useState2[0],setPressing=_useState2[1];useEffect(function(){var handleKeyup=function handleKeyup(e){setPressing(0);onKeyup&&onKeyup(e.code);};var handleKeydown=function handleKeydown(e){setPressing(e.code);onKeydown&&onKeydown(e.code);};var handleTimer=function handleTimer(){pressing&&onPressing&&onPressing(pressing);};document.addEventListener('keydown',handleKeydown);document.addEventListener('keyup',handleKeyup);document.timer=setInterval(handleTimer,100);return function(){document.removeEventListener('keydown',handleKeydown);document.removeEventListener('keyup',handleKeyup);clearInterval(document.timer);};});};export default useKeyboard;","map":{"version":3,"names":["useState","useEffect","useKeyboard","_ref","onKeyup","onKeydown","onPressing","_useState","_useState2","_slicedToArray","pressing","setPressing","handleKeyup","e","code","handleKeydown","handleTimer","document","addEventListener","timer","setInterval","removeEventListener","clearInterval"],"sources":["/home/samuel/experiment/3d/farm/frontend/src/view/useKeyboard.js"],"sourcesContent":["\nimport {useState, useEffect} from 'react'\n\nconst useKeyboard = ({onKeyup, onKeydown, onPressing}) => {\n\tlet [pressing, setPressing] = useState(false)\n\n \tuseEffect(() => {\n\t\tconst handleKeyup = (e) => {\n\t\t\tsetPressing(0)\n\t\t\tonKeyup && onKeyup(e.code)\n\t\t}\n\n\t\tconst handleKeydown = (e) => {\n\t\t\tsetPressing(e.code)\n\t\t\tonKeydown && onKeydown(e.code)\n\t\t}\n\n\t\tconst handleTimer = () => {\n\t\t\tpressing && onPressing && onPressing(pressing)\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeydown)\n\t\tdocument.addEventListener('keyup', handleKeyup)\n\t\tdocument.timer = setInterval(handleTimer, 100)\n\n\t\treturn () => {\n\t\t\t\tdocument.removeEventListener('keydown', handleKeydown)\n\t\t\t\tdocument.removeEventListener('keyup', handleKeyup)\n\t\t\t\tclearInterval(document.timer)\n\t\t\t}\n\t})\n}\n\nexport default useKeyboard\n"],"mappings":"8HACA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAEzC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAyC,IAApC,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CACnD,IAAAC,SAAA,CAA8BP,QAAQ,CAAC,KAAK,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAEzBP,SAAS,CAAC,UAAM,CAChB,GAAM,CAAAW,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,CAAC,CAAK,CAC1BF,WAAW,CAAC,CAAC,CAAC,CACdP,OAAO,EAAIA,OAAO,CAACS,CAAC,CAACC,IAAI,CAAC,CAC3B,CAAC,CAED,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIF,CAAC,CAAK,CAC5BF,WAAW,CAACE,CAAC,CAACC,IAAI,CAAC,CACnBT,SAAS,EAAIA,SAAS,CAACQ,CAAC,CAACC,IAAI,CAAC,CAC/B,CAAC,CAED,GAAM,CAAAE,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACzBN,QAAQ,EAAIJ,UAAU,EAAIA,UAAU,CAACI,QAAQ,CAAC,CAC/C,CAAC,CAEDO,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEH,aAAa,CAAC,CACnDE,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAEN,WAAW,CAAC,CAC/CK,QAAQ,CAACE,KAAK,CAAGC,WAAW,CAACJ,WAAW,CAAE,GAAG,CAAC,CAE9C,MAAO,WAAM,CACXC,QAAQ,CAACI,mBAAmB,CAAC,SAAS,CAAEN,aAAa,CAAC,CACtDE,QAAQ,CAACI,mBAAmB,CAAC,OAAO,CAAET,WAAW,CAAC,CAClDU,aAAa,CAACL,QAAQ,CAACE,KAAK,CAAC,CAC9B,CAAC,CACH,CAAC,CAAC,CACH,CAAC,CAED,cAAe,CAAAjB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}