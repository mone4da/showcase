{"ast":null,"code":"import _slicedToArray from\"/home/samuel/experiment/tdpnet/lab/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/samuel/experiment/tdpnet/lab/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import Node from'./node';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Link=function Link(props){var a=props.a,b=props.b;return/*#__PURE__*/_jsx(\"line\",{x1:a.x,y1:a.y,x2:b.x,y2:b.y,stroke:\"black\"});};var position=function position(w,h){return{x:Math.floor(Math.random()*w),y:Math.floor(Math.random()*h)};};var organizePositions=function organizePositions(nodes,size){return nodes.map(function(item){return _objectSpread(_objectSpread({},item),{},{pos:position(size.width-20,size.height-20)});});};var organizeLinks=function organizeLinks(positions,links){return[];};var Network=function Network(props){var style=props.style,data=props.data,size=props.size;var _useState=useState(size.width&&size.height?organizePositions(data.nodes,size):organizePositions(data.nodes,{width:400,height:400})),_useState2=_slicedToArray(_useState,2),positions=_useState2[0],setPositions=_useState2[1];var _useState3=useState(organizeLinks(positions,data.links)),_useState4=_slicedToArray(_useState3,2),links=_useState4[0],setLinks=_useState4[1];var handleClick=function handleClick(){//setPositions( organizePositions(data.nodes, size) )\n};var handleDragging=function handleDragging(id){console.log('redraw links ...');setLinks(organizeLinks(positions,data.links));};return/*#__PURE__*/_jsxs(\"svg\",{style:style,onClick:handleClick,children:[links.map(function(item){return/*#__PURE__*/_jsx(Link,{a:item.a,b:item.b});}),positions.map(function(item){return size.width&&size.height&&/*#__PURE__*/_jsx(Node,{id:item.id,label:item.name,pos:item.pos,r:20,onDragging:handleDragging},item.id);})]});};export default Network;","map":{"version":3,"names":["useState","Node","jsx","_jsx","jsxs","_jsxs","Link","props","a","b","x1","x","y1","y","x2","y2","stroke","position","w","h","Math","floor","random","organizePositions","nodes","size","map","item","_objectSpread","pos","width","height","organizeLinks","positions","links","Network","style","data","_useState","_useState2","_slicedToArray","setPositions","_useState3","_useState4","setLinks","handleClick","handleDragging","id","console","log","onClick","children","label","name","r","onDragging"],"sources":["/home/samuel/experiment/tdpnet/lab/frontend/src/view/network.js"],"sourcesContent":["import {useState} from 'react'\n\nimport Node from './node'\n\nlet Link = props => {\n\tlet {a,b} = props\n\treturn\t<line x1={a.x} y1={a.y} x2={b.x} y2={b.y} stroke='black' />\n}\n\nlet position = (w,h) => ({x : Math.floor(Math.random()*w), y: Math.floor(Math.random()*h)})\n\nlet organizePositions = (nodes, size) => nodes.map(item => ({...item, pos: position(size.width - 20, size.height - 20)}))\n\nlet organizeLinks = (positions, links) => []\n\nconst Network = props => {\n\tlet {style, data, size} = props\n\n\tlet [positions, setPositions] = useState(size.width && size.height ? organizePositions(data.nodes, size) : organizePositions(data.nodes, {width: 400, height: 400}))\n\tlet [links, setLinks] = useState(organizeLinks(positions, data.links))\n\n\tlet handleClick = () => {\n\t\t//setPositions( organizePositions(data.nodes, size) )\n\t}\n\n\tlet handleDragging = id => {\n\t\tconsole.log('redraw links ...')\n\t\tsetLinks(organizeLinks(positions, data.links))\n\t}\n\n\treturn <svg style={style} onClick={handleClick}>\n\t\t\t{links.map(item => <Link a={item.a} b={item.b} />)}\n\t\t\t{positions.map(item =>\n\t\t\t\tsize.width && size.height && <Node\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\tid={item.id}\n\t\t\t\t\tlabel={item.name}\n\t\t\t\t\tpos={item.pos}\n\t\t\t\t\tr = {20}\n\t\t\t\t\tonDragging = {handleDragging}\n\t\t\t\t/>)}\n\t\t</svg>\n}\n\nexport default Network\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}