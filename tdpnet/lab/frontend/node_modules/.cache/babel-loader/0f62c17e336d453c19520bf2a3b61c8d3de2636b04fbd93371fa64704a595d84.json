{"ast":null,"code":"import _classCallCheck from\"/home/samuel/experiment/latency/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/samuel/experiment/latency/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/samuel/experiment/latency/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/samuel/experiment/latency/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import state from'./state';import Session from'./session';var Model=/*#__PURE__*/function(_Session){_inherits(Model,_Session);var _super=_createSuper(Model);function Model(initialized){var _this;_classCallCheck(this,Model);_this=_super.call(this);_this.state=state;_this.initialize(initialized);return _this;}_createClass(Model,[{key:\"onWelcome\",value:function onWelcome(msg){this.state.user.token=msg.data;console.log('welcome!!',this.state.user.token);this.notify(msg.timestamp,'token');}},{key:\"onData\",value:function onData(msg){var index=parseInt(msg.channel);this.state.system.data[index]=msg.latency;this.notify(Date.now(),'data');}},{key:\"notify\",value:function notify(data,id){this.onUpdate&&this.onUpdate(data,id);}//methods\n},{key:\"update\",value:function update(data,id){switch(id){}}}]);return Model;}(Session);export default Model;","map":{"version":3,"names":["state","Session","Model","_Session","_inherits","_super","_createSuper","initialized","_this","_classCallCheck","call","initialize","_createClass","key","value","onWelcome","msg","user","token","data","console","log","notify","timestamp","onData","index","parseInt","channel","system","latency","Date","now","id","onUpdate","update"],"sources":["/home/samuel/experiment/latency/frontend/src/model/index.js"],"sourcesContent":["import state from './state'\nimport Session from './session'\n\nclass Model extends Session{\n\tconstructor( initialized ){\n\t\tsuper()\n\t\tthis.state = state\n\n\t\tthis.initialize( initialized )\n\t}\n\n\tonWelcome(msg){\n\t\tthis.state.user.token = msg.data\n\t\tconsole.log('welcome!!', this.state.user.token)\n\t\tthis.notify(msg.timestamp, 'token')\n\t}\n\n\tonData(msg){\n\t\tlet index = parseInt(msg.channel)\n\t\tthis.state.system.data[index] = msg.latency\n\t\tthis.notify(Date.now(), 'data')\n\t}\n\n\tnotify(data, id){\n\t\tthis.onUpdate && this.onUpdate(data, id)\n\t}\n\n\t//methods\n\tupdate(data, id){\n\t\tswitch(id){\n\t \t}\n\t}\n\n}\n\nexport default Model\n"],"mappings":"weAAA,MAAO,CAAAA,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,OAAO,KAAM,WAAW,IAEzB,CAAAC,KAAK,uBAAAC,QAAA,EAAAC,SAAA,CAAAF,KAAA,CAAAC,QAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,KAAA,EACV,SAAAA,MAAaK,WAAW,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,KAAA,EACzBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,OACAF,KAAA,CAAKR,KAAK,CAAGA,KAAK,CAElBQ,KAAA,CAAKG,UAAU,CAAEJ,WAAW,CAAE,QAAAC,KAAA,CAC/B,CAACI,YAAA,CAAAV,KAAA,GAAAW,GAAA,aAAAC,KAAA,CAED,SAAAC,UAAUC,GAAG,CAAC,CACb,IAAI,CAAChB,KAAK,CAACiB,IAAI,CAACC,KAAK,CAAGF,GAAG,CAACG,IAAI,CAChCC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,IAAI,CAACrB,KAAK,CAACiB,IAAI,CAACC,KAAK,CAAC,CAC/C,IAAI,CAACI,MAAM,CAACN,GAAG,CAACO,SAAS,CAAE,OAAO,CAAC,CACpC,CAAC,GAAAV,GAAA,UAAAC,KAAA,CAED,SAAAU,OAAOR,GAAG,CAAC,CACV,GAAI,CAAAS,KAAK,CAAGC,QAAQ,CAACV,GAAG,CAACW,OAAO,CAAC,CACjC,IAAI,CAAC3B,KAAK,CAAC4B,MAAM,CAACT,IAAI,CAACM,KAAK,CAAC,CAAGT,GAAG,CAACa,OAAO,CAC3C,IAAI,CAACP,MAAM,CAACQ,IAAI,CAACC,GAAG,EAAE,CAAE,MAAM,CAAC,CAChC,CAAC,GAAAlB,GAAA,UAAAC,KAAA,CAED,SAAAQ,OAAOH,IAAI,CAAEa,EAAE,CAAC,CACf,IAAI,CAACC,QAAQ,EAAI,IAAI,CAACA,QAAQ,CAACd,IAAI,CAAEa,EAAE,CAAC,CACzC,CAEA;AAAA,GAAAnB,GAAA,UAAAC,KAAA,CACA,SAAAoB,OAAOf,IAAI,CAAEa,EAAE,CAAC,CACf,OAAOA,EAAE,GAEV,CAAC,WAAA9B,KAAA,GA5BkBD,OAAO,EAgC3B,cAAe,CAAAC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}