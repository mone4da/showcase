{"ast":null,"code":"import _slicedToArray from\"/home/samuel/experiment/tdpnet/lab/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/samuel/experiment/tdpnet/lab/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import Node from'./node';import{jsx as _jsx}from\"react/jsx-runtime\";var position=function position(w,h){return{x:Math.floor(Math.random()*w),y:Math.floor(Math.random()*h)};};var organize=function organize(nodes,size){return nodes.map(function(item){return _objectSpread(_objectSpread({},item),{},{pos:position(size.width-20,size.height-20)});});};var Network=function Network(props){var style=props.style,data=props.data,size=props.size;var _useState=useState(size.width&&size.height?organize(data.nodes,size):[]),_useState2=_slicedToArray(_useState,2),layout=_useState2[0],setLayout=_useState2[1];var handleClick=function handleClick(){setLayout(organize(data.nodes,size));};return/*#__PURE__*/_jsx(\"svg\",{style:style,onClick:handleClick,children:layout.map(function(item){return size.width&&size.height&&/*#__PURE__*/_jsx(Node,{id:item.id,label:item.name,pos:item.pos,r:20},item.id);})});};export default Network;","map":{"version":3,"names":["useState","Node","jsx","_jsx","position","w","h","x","Math","floor","random","y","organize","nodes","size","map","item","_objectSpread","pos","width","height","Network","props","style","data","_useState","_useState2","_slicedToArray","layout","setLayout","handleClick","onClick","children","id","label","name","r"],"sources":["/home/samuel/experiment/tdpnet/lab/frontend/src/view/network.js"],"sourcesContent":["import {useState} from 'react'\n\nimport Node from './node'\n\nlet position = (w,h) => ({x : Math.floor(Math.random()*w), y: Math.floor(Math.random()*h)})\n\nlet organize = (nodes, size) => nodes.map(item => ({...item, pos: position(size.width - 20, size.height - 20)}))\n\nconst Network = props => {\n\tlet {style, data, size} = props\n\n\tlet [layout, setLayout] = useState(size.width && size.height ? organize(data.nodes, size) : [])\n\n\tlet handleClick = () => {\n\t\tsetLayout( organize(data.nodes, size) )\n\t}\n\n\treturn <svg style={style} onClick={handleClick}>\n\t\t\t{layout.map(item =>\n\t\t\t\tsize.width && size.height && <Node\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\tid={item.id}\n\t\t\t\t\tlabel={item.name}\n\t\t\t\t\tpos={item.pos}\n\t\t\t\t\tr = {20}\n\t\t\t\t/>)}\n\t\t</svg>\n}\n\nexport default Network\n"],"mappings":"iQAAA,OAAQA,QAAQ,KAAO,OAAO,CAE9B,MAAO,CAAAC,IAAI,KAAM,QAAQ,QAAAC,GAAA,IAAAC,IAAA,yBAEzB,GAAI,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,CAAC,CAACC,CAAC,QAAM,CAACC,CAAC,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,CAACL,CAAC,CAAC,CAAEM,CAAC,CAAEH,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,CAACJ,CAAC,CAAC,CAAC,EAAC,CAE3F,GAAI,CAAAM,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAEC,IAAI,QAAK,CAAAD,KAAK,CAACE,GAAG,CAAC,SAAAC,IAAI,SAAAC,aAAA,CAAAA,aAAA,IAASD,IAAI,MAAEE,GAAG,CAAEd,QAAQ,CAACU,IAAI,CAACK,KAAK,CAAG,EAAE,CAAEL,IAAI,CAACM,MAAM,CAAG,EAAE,CAAC,IAAE,CAAC,GAEhH,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAGC,KAAK,CAAI,CACxB,GAAK,CAAAC,KAAK,CAAgBD,KAAK,CAA1BC,KAAK,CAAEC,IAAI,CAAUF,KAAK,CAAnBE,IAAI,CAAEV,IAAI,CAAIQ,KAAK,CAAbR,IAAI,CAEtB,IAAAW,SAAA,CAA0BzB,QAAQ,CAACc,IAAI,CAACK,KAAK,EAAIL,IAAI,CAACM,MAAM,CAAGR,QAAQ,CAACY,IAAI,CAACX,KAAK,CAAEC,IAAI,CAAC,CAAG,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1FG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAEtB,GAAI,CAAAI,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACvBD,SAAS,CAAEjB,QAAQ,CAACY,IAAI,CAACX,KAAK,CAAEC,IAAI,CAAC,CAAE,CACxC,CAAC,CAED,mBAAOX,IAAA,QAAKoB,KAAK,CAAEA,KAAM,CAACQ,OAAO,CAAED,WAAY,CAAAE,QAAA,CAC5CJ,MAAM,CAACb,GAAG,CAAC,SAAAC,IAAI,QACf,CAAAF,IAAI,CAACK,KAAK,EAAIL,IAAI,CAACM,MAAM,eAAIjB,IAAA,CAACF,IAAI,EAEjCgC,EAAE,CAAEjB,IAAI,CAACiB,EAAG,CACZC,KAAK,CAAElB,IAAI,CAACmB,IAAK,CACjBjB,GAAG,CAAEF,IAAI,CAACE,GAAI,CACdkB,CAAC,CAAI,EAAG,EAJHpB,IAAI,CAACiB,EAAE,CAKX,GAAC,EACC,CACR,CAAC,CAED,cAAe,CAAAZ,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}