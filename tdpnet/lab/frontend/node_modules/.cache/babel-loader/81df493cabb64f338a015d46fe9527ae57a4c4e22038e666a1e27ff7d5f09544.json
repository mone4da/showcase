{"ast":null,"code":"import _slicedToArray from\"/home/samuel/experiment/tdpnet/lab/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/samuel/experiment/tdpnet/lab/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import Node from'./node';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Link=function Link(props){var a=props.a,b=props.b;return/*#__PURE__*/_jsx(\"line\",{x1:a.x,y1:a.y,x2:b.x,y2:b.y,stroke:\"black\"});};var position=function position(w,h){return{x:Math.floor(Math.random()*w),y:Math.floor(Math.random()*h)};};var organize=function organize(data,size){var positions=data.nodes.map(function(item){return _objectSpread(_objectSpread({},item),{},{pos:position(size.width-20,size.height-20)});});return{nodes:positions,links:[]};};var Network=function Network(props){var style=props.style,data=props.data,size=props.size;var _useState=useState(size.width&&size.height?organize(data,size):organize(data,{width:400,height:400})),_useState2=_slicedToArray(_useState,2),layout=_useState2[0],setLayout=_useState2[1];var handleClick=function handleClick(){setLayout(organize(data,size));};var handleDragging=function handleDragging(id){};return/*#__PURE__*/_jsxs(\"svg\",{style:style,onClick:handleClick,children:[layout.links.map(function(item){return/*#__PURE__*/_jsx(Link,{a:item.a,b:item.b});}),layout.nodes.map(function(item){return size.width&&size.height&&/*#__PURE__*/_jsx(Node,{id:item.id,label:item.name,pos:item.pos,r:20,onDragging:handleDragging},item.id);})]});};export default Network;","map":{"version":3,"names":["useState","Node","jsx","_jsx","jsxs","_jsxs","Link","props","a","b","x1","x","y1","y","x2","y2","stroke","position","w","h","Math","floor","random","organize","data","size","positions","nodes","map","item","_objectSpread","pos","width","height","links","Network","style","_useState","_useState2","_slicedToArray","layout","setLayout","handleClick","handleDragging","id","onClick","children","label","name","r","onDragging"],"sources":["/home/samuel/experiment/tdpnet/lab/frontend/src/view/network.js"],"sourcesContent":["import {useState} from 'react'\n\nimport Node from './node'\n\nlet Link = props => {\n\tlet {a,b} = props\n\treturn\t<line x1={a.x} y1={a.y} x2={b.x} y2={b.y} stroke='black' />\n}\n\nlet position = (w,h) => ({x : Math.floor(Math.random()*w), y: Math.floor(Math.random()*h)})\n\nlet organize = (data, size) => {\n\tlet positions = data.nodes.map(item => ({...item, pos: position(size.width - 20, size.height - 20)}))\n\treturn {\n\t\tnodes: positions,\n\t\tlinks: []\n\t}\n}\n\nconst Network = props => {\n\tlet {style, data, size} = props\n\n\tlet [layout, setLayout] = useState(size.width && size.height ? organize(data, size) : organize(data, {width: 400, height: 400}))\n\n\tlet handleClick = () => {\n\t\tsetLayout( organize(data, size) )\n\t}\n\n\tlet handleDragging = id => {\n\t}\n\n\treturn <svg style={style} onClick={handleClick}>\n\t\t\t{layout.links.map(item => <Link a={item.a} b={item.b} />)}\n\t\t\t{layout.nodes.map(item =>\n\t\t\t\tsize.width && size.height && <Node\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\tid={item.id}\n\t\t\t\t\tlabel={item.name}\n\t\t\t\t\tpos={item.pos}\n\t\t\t\t\tr = {20}\n\t\t\t\t\tonDragging = {handleDragging}\n\t\t\t\t/>)}\n\t\t</svg>\n}\n\nexport default Network\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}